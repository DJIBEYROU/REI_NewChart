var mi=Object.defineProperty;var pi=(e,t,n)=>t in e?mi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ot=(e,t,n)=>(pi(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function K(){}const Pt=e=>e;function Ar(e){return e()}function Dn(){return Object.create(null)}function _e(e){e.forEach(Ar)}function at(e){return typeof e=="function"}function Se(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function _i(e){return Object.keys(e).length===0}function gt(e){return e??""}function Tn(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const Hr=typeof window<"u";let ln=Hr?()=>window.performance.now():()=>Date.now(),un=Hr?e=>requestAnimationFrame(e):K;const Ie=new Set;function Lr(e){Ie.forEach(t=>{t.c(e)||(Ie.delete(t),t.f())}),Ie.size!==0&&un(Lr)}function an(e){let t;return Ie.size===0&&un(Lr),{promise:new Promise(n=>{Ie.add(t={c:e,f:n})}),abort(){Ie.delete(t)}}}function D(e,t){e.appendChild(t)}function Fr(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function yi(e){const t=Y("style");return t.textContent="/* empty */",bi(Fr(e),t),t.sheet}function bi(e,t){return D(e.head||e,t),t.sheet}function H(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode&&e.parentNode.removeChild(e)}function Fe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Y(e){return document.createElement(e)}function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ue(e){return document.createTextNode(e)}function X(){return ue(" ")}function ft(){return ue("")}function we(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function wi(e){return Array.from(e.childNodes)}function ge(e,t){t=""+t,e.data!==t&&(e.data=t)}function Cn(e,t){e.value=t??""}function he(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Un(e,t,n){for(let r=0;r<e.options.length;r+=1){const i=e.options[r];if(i.__value===t){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}let dt;function vi(){if(dt===void 0){dt=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{dt=!0}}return dt}function ki(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=Y("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=vi();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=we(window,"message",l=>{l.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{o=we(r.contentWindow,"resize",t),t()}),D(e,r),()=>{(i||o&&r.contentWindow)&&o(),A(r)}}function Mi(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}const kt=new Map;let Mt=0;function xi(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Si(e,t){const n={stylesheet:yi(t),rules:{}};return kt.set(e,n),n}function xt(e,t,n,r,i,o,l,u=0){const a=16.666/r;let f=`{
`;for(let M=0;M<=1;M+=a){const v=t+(n-t)*o(M);f+=M*100+`%{${l(v,1-v)}}
`}const c=f+`100% {${l(n,1-n)}}
}`,s=`__svelte_${xi(c)}_${u}`,h=Fr(e),{stylesheet:m,rules:g}=kt.get(h)||Si(h,e);g[s]||(g[s]=!0,m.insertRule(`@keyframes ${s} ${c}`,m.cssRules.length));const _=e.style.animation||"";return e.style.animation=`${_?`${_}, `:""}${s} ${r}ms linear ${i}ms 1 both`,Mt+=1,s}function St(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),Mt-=i,Mt||Di())}function Di(){un(()=>{Mt||(kt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&A(t)}),kt.clear())})}let nt;function tt(e){nt=e}function Pr(){if(!nt)throw new Error("Function called outside component initialization");return nt}function fn(e){Pr().$$.on_mount.push(e)}function Yr(e){Pr().$$.after_update.push(e)}const We=[],xe=[];let Re=[];const Gt=[],Ti=Promise.resolve();let Vt=!1;function Ci(){Vt||(Vt=!0,Ti.then(Or))}function ve(e){Re.push(e)}function mt(e){Gt.push(e)}const Et=new Set;let Oe=0;function Or(){if(Oe!==0)return;const e=nt;do{try{for(;Oe<We.length;){const t=We[Oe];Oe++,tt(t),Ui(t.$$)}}catch(t){throw We.length=0,Oe=0,t}for(tt(null),We.length=0,Oe=0;xe.length;)xe.pop()();for(let t=0;t<Re.length;t+=1){const n=Re[t];Et.has(n)||(Et.add(n),n())}Re.length=0}while(We.length);for(;Gt.length;)Gt.pop()();Vt=!1,Et.clear(),tt(e)}function Ui(e){if(e.fragment!==null){e.update(),_e(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ve)}}function Ni(e){const t=[],n=[];Re.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Re=t}let Qe;function sn(){return Qe||(Qe=Promise.resolve(),Qe.then(()=>{Qe=null})),Qe}function Ae(e,t,n){e.dispatchEvent(Mi(`${t?"intro":"outro"}${n}`))}const wt=new Set;let me;function rt(){me={r:0,c:[],p:me}}function it(){me.r||_e(me.c),me=me.p}function R(e,t){e&&e.i&&(wt.delete(e),e.i(t))}function V(e,t,n,r){if(e&&e.o){if(wt.has(e))return;wt.add(e),me.c.push(()=>{wt.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const cn={duration:0};function Ai(e,t,n){const r={direction:"in"};let i=t(e,n,r),o=!1,l,u,a=0;function f(){l&&St(e,l)}function c(){const{delay:h=0,duration:m=300,easing:g=Pt,tick:_=K,css:M}=i||cn;M&&(l=xt(e,0,1,m,h,g,M,a++)),_(0,1);const v=ln()+h,C=v+m;u&&u.abort(),o=!0,ve(()=>Ae(e,!0,"start")),u=an(T=>{if(o){if(T>=C)return _(1,0),Ae(e,!0,"end"),f(),o=!1;if(T>=v){const U=g((T-v)/m);_(U,1-U)}}return o})}let s=!1;return{start(){s||(s=!0,St(e),at(i)?(i=i(r),sn().then(c)):c())},invalidate(){s=!1},end(){o&&(f(),o=!1)}}}function Hi(e,t,n){const r={direction:"out"};let i=t(e,n,r),o=!0,l;const u=me;u.r+=1;let a;function f(){const{delay:c=0,duration:s=300,easing:h=Pt,tick:m=K,css:g}=i||cn;g&&(l=xt(e,1,0,s,c,h,g));const _=ln()+c,M=_+s;ve(()=>Ae(e,!1,"start")),"inert"in e&&(a=e.inert,e.inert=!0),an(v=>{if(o){if(v>=M)return m(0,1),Ae(e,!1,"end"),--u.r||_e(u.c),!1;if(v>=_){const C=h((v-_)/s);m(1-C,C)}}return o})}return at(i)?sn().then(()=>{i=i(r),f()}):f(),{end(c){c&&"inert"in e&&(e.inert=a),c&&i.tick&&i.tick(1,0),o&&(l&&St(e,l),o=!1)}}}function Nn(e,t,n,r){let o=t(e,n,{direction:"both"}),l=r?0:1,u=null,a=null,f=null,c;function s(){f&&St(e,f)}function h(g,_){const M=g.b-l;return _*=Math.abs(M),{a:l,b:g.b,d:M,duration:_,start:g.start,end:g.start+_,group:g.group}}function m(g){const{delay:_=0,duration:M=300,easing:v=Pt,tick:C=K,css:T}=o||cn,U={start:ln()+_,b:g};g||(U.group=me,me.r+=1),"inert"in e&&(g?c!==void 0&&(e.inert=c):(c=e.inert,e.inert=!0)),u||a?a=U:(T&&(s(),f=xt(e,l,g,M,_,v,T)),g&&C(0,1),u=h(U,M),ve(()=>Ae(e,g,"start")),an(k=>{if(a&&k>a.start&&(u=h(a,M),a=null,Ae(e,u.b,"start"),T&&(s(),f=xt(e,l,u.b,u.duration,0,v,o.css))),u){if(k>=u.end)C(l=u.b,1-l),Ae(e,u.b,"end"),a||(u.b?s():--u.group.r||_e(u.group.c)),u=null;else if(k>=u.start){const S=k-u.start;l=u.a+u.d*v(S/u.duration),C(l,1-l)}}return!!(u||a)}))}return{run(g){at(o)?sn().then(()=>{o=o({direction:g?"in":"out"}),m(g)}):m(g)},end(){s(),u=a=null}}}function ie(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function pt(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function de(e){e&&e.c()}function fe(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),ve(()=>{const o=e.$$.on_mount.map(Ar).filter(at);e.$$.on_destroy?e.$$.on_destroy.push(...o):_e(o),e.$$.on_mount=[]}),i.forEach(ve)}function se(e,t){const n=e.$$;n.fragment!==null&&(Ni(n.after_update),_e(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Li(e,t){e.$$.dirty[0]===-1&&(We.push(e),Ci(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function De(e,t,n,r,i,o,l,u=[-1]){const a=nt;tt(e);const f=e.$$={fragment:null,ctx:[],props:o,update:K,not_equal:i,bound:Dn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Dn(),dirty:u,skip_bound:!1,root:t.target||a.$$.root};l&&l(f.root);let c=!1;if(f.ctx=n?n(e,t.props||{},(s,h,...m)=>{const g=m.length?m[0]:h;return f.ctx&&i(f.ctx[s],f.ctx[s]=g)&&(!f.skip_bound&&f.bound[s]&&f.bound[s](g),c&&Li(e,s)),h}):[],f.update(),c=!0,_e(f.before_update),f.fragment=r?r(f.ctx):!1,t.target){if(t.hydrate){const s=wi(t.target);f.fragment&&f.fragment.l(s),s.forEach(A)}else f.fragment&&f.fragment.c();t.intro&&R(e.$$.fragment),fe(e,t.target,t.anchor),Or()}tt(a)}class Te{constructor(){Ot(this,"$$");Ot(this,"$$set")}$destroy(){se(this,1),this.$destroy=K}$on(t,n){if(!at(n))return K;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!_i(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Fi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Fi);function vt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hn(e){let t,n,r;e.length!==2?(t=vt,n=(u,a)=>vt(e(u),a),r=(u,a)=>e(u)-a):(t=e===vt||e===Pi?e:Yi,n=e,r=e);function i(u,a,f=0,c=u.length){if(f<c){if(t(a,a)!==0)return c;do{const s=f+c>>>1;n(u[s],a)<0?f=s+1:c=s}while(f<c)}return f}function o(u,a,f=0,c=u.length){if(f<c){if(t(a,a)!==0)return c;do{const s=f+c>>>1;n(u[s],a)<=0?f=s+1:c=s}while(f<c)}return f}function l(u,a,f=0,c=u.length){const s=i(u,a,f,c-1);return s>f&&r(u[s-1],a)>-r(u[s],a)?s-1:s}return{left:i,center:l,right:o}}function Yi(){return 0}function Oi(e){return e===null?NaN:+e}const Ei=hn(vt),Wi=Ei.right;hn(Oi).center;const $i=Wi;class Xt extends Map{constructor(t,n=Ri){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(An(this,t))}has(t){return super.has(An(this,t))}set(t,n){return super.set(ji(this,t),n)}delete(t){return super.delete(Ii(this,t))}}function An({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ji({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ii({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ri(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zi(e){return e}function qi(e,...t){return Zi(e,Array.from,zi,t)}function Zi(e,t,n,r){return function i(o,l){if(l>=r.length)return n(o);const u=new Xt,a=r[l++];let f=-1;for(const c of o){const s=a(c,++f,o),h=u.get(s);h?h.push(c):u.set(s,[c])}for(const[c,s]of u)u.set(c,i(s,l));return t(u)}(e,0)}const Gi=Math.sqrt(50),Vi=Math.sqrt(10),Xi=Math.sqrt(2);function Dt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=Gi?10:o>=Vi?5:o>=Xi?2:1;let u,a,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),a=Math.round(t*f),u/f<e&&++u,a/f>t&&--a,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),a=Math.round(t/f),u*f<e&&++u,a*f>t&&--a),a<u&&.5<=n&&n<2?Dt(e,t,n*2):[u,a,f]}function Bi(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Dt(t,e,n):Dt(e,t,n);if(!(o>=i))return[];const u=o-i+1,a=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)a[f]=(o-f)/-l;else for(let f=0;f<u;++f)a[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)a[f]=(i+f)/-l;else for(let f=0;f<u;++f)a[f]=(i+f)*l;return a}function Bt(e,t,n){return t=+t,e=+e,n=+n,Dt(e,t,n)[2]}function Qt(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Bt(t,e,n):Bt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Qi(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function gn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Hn=Symbol("implicit");function Er(){var e=new Xt,t=[],n=[],r=Hn;function i(o){let l=e.get(o);if(l===void 0){if(r!==Hn)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Xt;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Er(t,n).unknown(r)},gn.apply(i,arguments),i}function dn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Wr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function st(){}var ot=.7,Tt=1/ot,ze="\\s*([+-]?\\d+)\\s*",lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ji=/^#([0-9a-f]{3,8})$/,Ki=new RegExp(`^rgb\\(${ze},${ze},${ze}\\)$`),eo=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),to=new RegExp(`^rgba\\(${ze},${ze},${ze},${lt}\\)$`),no=new RegExp(`^rgba\\(${pe},${pe},${pe},${lt}\\)$`),ro=new RegExp(`^hsl\\(${lt},${pe},${pe}\\)$`),io=new RegExp(`^hsla\\(${lt},${pe},${pe},${lt}\\)$`),Ln={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dn(st,ut,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fn,formatHex:Fn,formatHex8:oo,formatHsl:lo,formatRgb:Pn,toString:Pn});function Fn(){return this.rgb().formatHex()}function oo(){return this.rgb().formatHex8()}function lo(){return $r(this).formatHsl()}function Pn(){return this.rgb().formatRgb()}function ut(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ji.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Yn(t):n===3?new re(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_t(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_t(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ki.exec(e))?new re(t[1],t[2],t[3],1):(t=eo.exec(e))?new re(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=to.exec(e))?_t(t[1],t[2],t[3],t[4]):(t=no.exec(e))?_t(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ro.exec(e))?Wn(t[1],t[2]/100,t[3]/100,1):(t=io.exec(e))?Wn(t[1],t[2]/100,t[3]/100,t[4]):Ln.hasOwnProperty(e)?Yn(Ln[e]):e==="transparent"?new re(NaN,NaN,NaN,0):null}function Yn(e){return new re(e>>16&255,e>>8&255,e&255,1)}function _t(e,t,n,r){return r<=0&&(e=t=n=NaN),new re(e,t,n,r)}function uo(e){return e instanceof st||(e=ut(e)),e?(e=e.rgb(),new re(e.r,e.g,e.b,e.opacity)):new re}function Jt(e,t,n,r){return arguments.length===1?uo(e):new re(e,t,n,r??1)}function re(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}dn(re,Jt,Wr(st,{brighter(e){return e=e==null?Tt:Math.pow(Tt,e),new re(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ot:Math.pow(ot,e),new re(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new re(He(this.r),He(this.g),He(this.b),Ct(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:On,formatHex:On,formatHex8:ao,formatRgb:En,toString:En}));function On(){return`#${Ne(this.r)}${Ne(this.g)}${Ne(this.b)}`}function ao(){return`#${Ne(this.r)}${Ne(this.g)}${Ne(this.b)}${Ne((isNaN(this.opacity)?1:this.opacity)*255)}`}function En(){const e=Ct(this.opacity);return`${e===1?"rgb(":"rgba("}${He(this.r)}, ${He(this.g)}, ${He(this.b)}${e===1?")":`, ${e})`}`}function Ct(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function He(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ne(e){return e=He(e),(e<16?"0":"")+e.toString(16)}function Wn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ce(e,t,n,r)}function $r(e){if(e instanceof ce)return new ce(e.h,e.s,e.l,e.opacity);if(e instanceof st||(e=ut(e)),!e)return new ce;if(e instanceof ce)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,a=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=a<.5?o+i:2-o-i,l*=60):u=a>0&&a<1?0:l,new ce(l,u,a,e.opacity)}function fo(e,t,n,r){return arguments.length===1?$r(e):new ce(e,t,n,r??1)}function ce(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}dn(ce,fo,Wr(st,{brighter(e){return e=e==null?Tt:Math.pow(Tt,e),new ce(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ot:Math.pow(ot,e),new ce(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new re(Wt(e>=240?e-240:e+120,i,r),Wt(e,i,r),Wt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ce($n(this.h),yt(this.s),yt(this.l),Ct(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ct(this.opacity);return`${e===1?"hsl(":"hsla("}${$n(this.h)}, ${yt(this.s)*100}%, ${yt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $n(e){return e=(e||0)%360,e<0?e+360:e}function yt(e){return Math.max(0,Math.min(1,e||0))}function Wt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const mn=e=>()=>e;function so(e,t){return function(n){return e+n*t}}function co(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ho(e){return(e=+e)==1?jr:function(t,n){return n-t?co(t,n,e):mn(isNaN(t)?n:t)}}function jr(e,t){var n=t-e;return n?so(e,n):mn(isNaN(e)?t:e)}const jn=function e(t){var n=ho(t);function r(i,o){var l=n((i=Jt(i)).r,(o=Jt(o)).r),u=n(i.g,o.g),a=n(i.b,o.b),f=jr(i.opacity,o.opacity);return function(c){return i.r=l(c),i.g=u(c),i.b=a(c),i.opacity=f(c),i+""}}return r.gamma=e,r}(1);function go(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function mo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function po(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=pn(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function _o(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ut(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function yo(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=pn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Kt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$t=new RegExp(Kt.source,"g");function bo(e){return function(){return e}}function wo(e){return function(t){return e(t)+""}}function vo(e,t){var n=Kt.lastIndex=$t.lastIndex=0,r,i,o,l=-1,u=[],a=[];for(e=e+"",t=t+"";(r=Kt.exec(e))&&(i=$t.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,a.push({i:l,x:Ut(r,i)})),n=$t.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?a[0]?wo(a[0].x):bo(t):(t=a.length,function(f){for(var c=0,s;c<t;++c)u[(s=a[c]).i]=s.x(f);return u.join("")})}function pn(e,t){var n=typeof t,r;return t==null||n==="boolean"?mn(t):(n==="number"?Ut:n==="string"?(r=ut(t))?(t=r,jn):vo:t instanceof ut?jn:t instanceof Date?_o:mo(t)?go:Array.isArray(t)?po:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yo:Ut)(e,t)}function ko(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Mo(e){return function(){return e}}function xo(e){return+e}var In=[0,1];function $e(e){return e}function en(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Mo(isNaN(t)?NaN:.5)}function So(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Do(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=en(i,r),o=n(l,o)):(r=en(r,i),o=n(o,l)),function(u){return o(r(u))}}function To(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=en(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var a=$i(e,u,1,r)-1;return o[a](i[a](u))}}function Ir(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Co(){var e=In,t=In,n=pn,r,i,o,l=$e,u,a,f;function c(){var h=Math.min(e.length,t.length);return l!==$e&&(l=So(e[0],e[h-1])),u=h>2?To:Do,a=f=null,s}function s(h){return h==null||isNaN(h=+h)?o:(a||(a=u(e.map(r),t,n)))(r(l(h)))}return s.invert=function(h){return l(i((f||(f=u(t,e.map(r),Ut)))(h)))},s.domain=function(h){return arguments.length?(e=Array.from(h,xo),c()):e.slice()},s.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},s.rangeRound=function(h){return t=Array.from(h),n=ko,c()},s.clamp=function(h){return arguments.length?(l=h?!0:$e,c()):l!==$e},s.interpolate=function(h){return arguments.length?(n=h,c()):n},s.unknown=function(h){return arguments.length?(o=h,s):o},function(h,m){return r=h,i=m,c()}}function Rr(){return Co()($e,$e)}function Uo(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function qe(e){return e=Nt(Math.abs(e)),e?e[1]:NaN}function No(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],a=0;i>0&&u>0&&(a+u+1>r&&(u=Math.max(1,r-a)),o.push(n.substring(i-=u,i+u)),!((a+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function Ao(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ho=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function At(e){if(!(t=Ho.exec(e)))throw new Error("invalid format: "+e);var t;return new _n({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}At.prototype=_n.prototype;function _n(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lo(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var zr;function Fo(e,t){var n=Nt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(zr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Nt(e,Math.max(0,t+o-1))[0]}function Rn(e,t){var n=Nt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Uo,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Rn(e*100,t),r:Rn,s:Fo,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qn(e){return e}var Zn=Array.prototype.map,Gn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Po(e){var t=e.grouping===void 0||e.thousands===void 0?qn:No(Zn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?qn:Ao(Zn.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function f(s){s=At(s);var h=s.fill,m=s.align,g=s.sign,_=s.symbol,M=s.zero,v=s.width,C=s.comma,T=s.precision,U=s.trim,k=s.type;k==="n"?(C=!0,k="g"):zn[k]||(T===void 0&&(T=12),U=!0,k="g"),(M||h==="0"&&m==="=")&&(M=!0,h="0",m="=");var S=_==="$"?n:_==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",j=_==="$"?r:/[%p]/.test(k)?l:"",G=zn[k],B=/[defgprs%]/.test(k);T=T===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function $(N){var q=S,F=j,O,p,b;if(k==="c")F=G(N)+F,N="";else{N=+N;var w=N<0||1/N<0;if(N=isNaN(N)?a:G(Math.abs(N),T),U&&(N=Lo(N)),w&&+N==0&&g!=="+"&&(w=!1),q=(w?g==="("?g:u:g==="-"||g==="("?"":g)+q,F=(k==="s"?Gn[8+zr/3]:"")+F+(w&&g==="("?")":""),B){for(O=-1,p=N.length;++O<p;)if(b=N.charCodeAt(O),48>b||b>57){F=(b===46?i+N.slice(O+1):N.slice(O))+F,N=N.slice(0,O);break}}}C&&!M&&(N=t(N,1/0));var P=q.length+N.length+F.length,Z=P<v?new Array(v-P+1).join(h):"";switch(C&&M&&(N=t(Z+N,Z.length?v-F.length:1/0),Z=""),m){case"<":N=q+N+F+Z;break;case"=":N=q+Z+N+F;break;case"^":N=Z.slice(0,P=Z.length>>1)+q+N+F+Z.slice(P);break;default:N=Z+q+N+F;break}return o(N)}return $.toString=function(){return s+""},$}function c(s,h){var m=f((s=At(s),s.type="f",s)),g=Math.max(-8,Math.min(8,Math.floor(qe(h)/3)))*3,_=Math.pow(10,-g),M=Gn[8+g/3];return function(v){return m(_*v)+M}}return{format:f,formatPrefix:c}}var bt,qr,Zr;Yo({thousands:",",grouping:[3],currency:["$",""]});function Yo(e){return bt=Po(e),qr=bt.format,Zr=bt.formatPrefix,bt}function Oo(e){return Math.max(0,-qe(Math.abs(e)))}function Eo(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qe(t)/3)))*3-qe(Math.abs(e)))}function Wo(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qe(t)-qe(e))+1}function $o(e,t,n,r){var i=Qt(e,t,n),o;switch(r=At(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Eo(i,l))&&(r.precision=o),Zr(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Wo(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Oo(i))&&(r.precision=o-(r.type==="%")*2);break}}return qr(r)}function jo(e){var t=e.domain;return e.ticks=function(n){var r=t();return Bi(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return $o(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],a,f,c=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);c-- >0;){if(f=Bt(l,u,n),f===a)return r[i]=l,r[o]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;a=f}return e},e}function yn(){var e=Rr();return e.copy=function(){return Ir(e,yn())},gn.apply(e,arguments),jo(e)}function Io(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}const jt=new Date,It=new Date;function J(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const a=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return a;let f;do a.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return a},i.filter=o=>J(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(jt.setTime(+o),It.setTime(+l),e(jt),e(It),Math.floor(n(jt,It))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Ht=J(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ht.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?J(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ht);Ht.range;const ye=1e3,ae=ye*60,be=ae*60,ke=be*24,bn=ke*7,Vn=ke*30,Rt=ke*365,je=J(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ye)},(e,t)=>(t-e)/ye,e=>e.getUTCSeconds());je.range;const wn=J(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ye)},(e,t)=>{e.setTime(+e+t*ae)},(e,t)=>(t-e)/ae,e=>e.getMinutes());wn.range;const Ro=J(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ae)},(e,t)=>(t-e)/ae,e=>e.getUTCMinutes());Ro.range;const vn=J(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ye-e.getMinutes()*ae)},(e,t)=>{e.setTime(+e+t*be)},(e,t)=>(t-e)/be,e=>e.getHours());vn.range;const zo=J(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*be)},(e,t)=>(t-e)/be,e=>e.getUTCHours());zo.range;const ct=J(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ae)/ke,e=>e.getDate()-1);ct.range;const kn=J(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ke,e=>e.getUTCDate()-1);kn.range;const qo=J(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ke,e=>Math.floor(e/ke));qo.range;function Pe(e){return J(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ae)/bn)}const Yt=Pe(0),Lt=Pe(1),Zo=Pe(2),Go=Pe(3),Ze=Pe(4),Vo=Pe(5),Xo=Pe(6);Yt.range;Lt.range;Zo.range;Go.range;Ze.range;Vo.range;Xo.range;function Ye(e){return J(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/bn)}const Gr=Ye(0),Ft=Ye(1),Bo=Ye(2),Qo=Ye(3),Ge=Ye(4),Jo=Ye(5),Ko=Ye(6);Gr.range;Ft.range;Bo.range;Qo.range;Ge.range;Jo.range;Ko.range;const Mn=J(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Mn.range;const el=J(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());el.range;const Me=J(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Me.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:J(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Me.range;const Le=J(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Le.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:J(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Le.range;function tl(e,t,n,r,i,o){const l=[[je,1,ye],[je,5,5*ye],[je,15,15*ye],[je,30,30*ye],[o,1,ae],[o,5,5*ae],[o,15,15*ae],[o,30,30*ae],[i,1,be],[i,3,3*be],[i,6,6*be],[i,12,12*be],[r,1,ke],[r,2,2*ke],[n,1,bn],[t,1,Vn],[t,3,3*Vn],[e,1,Rt]];function u(f,c,s){const h=c<f;h&&([f,c]=[c,f]);const m=s&&typeof s.range=="function"?s:a(f,c,s),g=m?m.range(f,+c+1):[];return h?g.reverse():g}function a(f,c,s){const h=Math.abs(c-f)/s,m=hn(([,,M])=>M).right(l,h);if(m===l.length)return e.every(Qt(f/Rt,c/Rt,s));if(m===0)return Ht.every(Math.max(Qt(f,c,s),1));const[g,_]=l[h/l[m-1][2]<l[m][2]/h?m-1:m];return g.every(_)}return[u,a]}const[nl,rl]=tl(Me,Mn,Yt,ct,vn,wn);function zt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Je(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function il(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,a=e.shortMonths,f=Ke(i),c=et(i),s=Ke(o),h=et(o),m=Ke(l),g=et(l),_=Ke(u),M=et(u),v=Ke(a),C=et(a),T={a:w,A:P,b:Z,B:Xe,c:null,d:er,e:er,f:Tl,g:Ol,G:Wl,H:xl,I:Sl,j:Dl,L:Vr,m:Cl,M:Ul,p:Be,q:te,Q:rr,s:ir,S:Nl,u:Al,U:Hl,V:Ll,w:Fl,W:Pl,x:null,X:null,y:Yl,Y:El,Z:$l,"%":nr},U={a:ht,A:si,b:ci,B:hi,c:null,d:tr,e:tr,f:zl,g:eu,G:nu,H:jl,I:Il,j:Rl,L:Br,m:ql,M:Zl,p:gi,q:di,Q:rr,s:ir,S:Gl,u:Vl,U:Xl,V:Bl,w:Ql,W:Jl,x:null,X:null,y:Kl,Y:tu,Z:ru,"%":nr},k={a:$,A:N,b:q,B:F,c:O,d:Jn,e:Jn,f:wl,g:Qn,G:Bn,H:Kn,I:Kn,j:pl,L:bl,m:ml,M:_l,p:B,q:dl,Q:kl,s:Ml,S:yl,u:fl,U:sl,V:cl,w:al,W:hl,x:p,X:b,y:Qn,Y:Bn,Z:gl,"%":vl};T.x=S(n,T),T.X=S(r,T),T.c=S(t,T),U.x=S(n,U),U.X=S(r,U),U.c=S(t,U);function S(x,L){return function(E){var y=[],ne=-1,I=0,oe=x.length,le,Ce,Sn;for(E instanceof Date||(E=new Date(+E));++ne<oe;)x.charCodeAt(ne)===37&&(y.push(x.slice(I,ne)),(Ce=Xn[le=x.charAt(++ne)])!=null?le=x.charAt(++ne):Ce=le==="e"?" ":"0",(Sn=L[le])&&(le=Sn(E,Ce)),y.push(le),I=ne+1);return y.push(x.slice(I,ne)),y.join("")}}function j(x,L){return function(E){var y=Je(1900,void 0,1),ne=G(y,x,E+="",0),I,oe;if(ne!=E.length)return null;if("Q"in y)return new Date(y.Q);if("s"in y)return new Date(y.s*1e3+("L"in y?y.L:0));if(L&&!("Z"in y)&&(y.Z=0),"p"in y&&(y.H=y.H%12+y.p*12),y.m===void 0&&(y.m="q"in y?y.q:0),"V"in y){if(y.V<1||y.V>53)return null;"w"in y||(y.w=1),"Z"in y?(I=qt(Je(y.y,0,1)),oe=I.getUTCDay(),I=oe>4||oe===0?Ft.ceil(I):Ft(I),I=kn.offset(I,(y.V-1)*7),y.y=I.getUTCFullYear(),y.m=I.getUTCMonth(),y.d=I.getUTCDate()+(y.w+6)%7):(I=zt(Je(y.y,0,1)),oe=I.getDay(),I=oe>4||oe===0?Lt.ceil(I):Lt(I),I=ct.offset(I,(y.V-1)*7),y.y=I.getFullYear(),y.m=I.getMonth(),y.d=I.getDate()+(y.w+6)%7)}else("W"in y||"U"in y)&&("w"in y||(y.w="u"in y?y.u%7:"W"in y?1:0),oe="Z"in y?qt(Je(y.y,0,1)).getUTCDay():zt(Je(y.y,0,1)).getDay(),y.m=0,y.d="W"in y?(y.w+6)%7+y.W*7-(oe+5)%7:y.w+y.U*7-(oe+6)%7);return"Z"in y?(y.H+=y.Z/100|0,y.M+=y.Z%100,qt(y)):zt(y)}}function G(x,L,E,y){for(var ne=0,I=L.length,oe=E.length,le,Ce;ne<I;){if(y>=oe)return-1;if(le=L.charCodeAt(ne++),le===37){if(le=L.charAt(ne++),Ce=k[le in Xn?L.charAt(ne++):le],!Ce||(y=Ce(x,E,y))<0)return-1}else if(le!=E.charCodeAt(y++))return-1}return y}function B(x,L,E){var y=f.exec(L.slice(E));return y?(x.p=c.get(y[0].toLowerCase()),E+y[0].length):-1}function $(x,L,E){var y=m.exec(L.slice(E));return y?(x.w=g.get(y[0].toLowerCase()),E+y[0].length):-1}function N(x,L,E){var y=s.exec(L.slice(E));return y?(x.w=h.get(y[0].toLowerCase()),E+y[0].length):-1}function q(x,L,E){var y=v.exec(L.slice(E));return y?(x.m=C.get(y[0].toLowerCase()),E+y[0].length):-1}function F(x,L,E){var y=_.exec(L.slice(E));return y?(x.m=M.get(y[0].toLowerCase()),E+y[0].length):-1}function O(x,L,E){return G(x,t,L,E)}function p(x,L,E){return G(x,n,L,E)}function b(x,L,E){return G(x,r,L,E)}function w(x){return l[x.getDay()]}function P(x){return o[x.getDay()]}function Z(x){return a[x.getMonth()]}function Xe(x){return u[x.getMonth()]}function Be(x){return i[+(x.getHours()>=12)]}function te(x){return 1+~~(x.getMonth()/3)}function ht(x){return l[x.getUTCDay()]}function si(x){return o[x.getUTCDay()]}function ci(x){return a[x.getUTCMonth()]}function hi(x){return u[x.getUTCMonth()]}function gi(x){return i[+(x.getUTCHours()>=12)]}function di(x){return 1+~~(x.getUTCMonth()/3)}return{format:function(x){var L=S(x+="",T);return L.toString=function(){return x},L},parse:function(x){var L=j(x+="",!1);return L.toString=function(){return x},L},utcFormat:function(x){var L=S(x+="",U);return L.toString=function(){return x},L},utcParse:function(x){var L=j(x+="",!0);return L.toString=function(){return x},L}}}var Xn={"-":"",_:" ",0:"0"},ee=/^\s*\d+/,ol=/^%/,ll=/[\\^$*+?|[\]().{}]/g;function W(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function ul(e){return e.replace(ll,"\\$&")}function Ke(e){return new RegExp("^(?:"+e.map(ul).join("|")+")","i")}function et(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function al(e,t,n){var r=ee.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function fl(e,t,n){var r=ee.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function sl(e,t,n){var r=ee.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function cl(e,t,n){var r=ee.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function hl(e,t,n){var r=ee.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Bn(e,t,n){var r=ee.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Qn(e,t,n){var r=ee.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gl(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dl(e,t,n){var r=ee.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ml(e,t,n){var r=ee.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Jn(e,t,n){var r=ee.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function pl(e,t,n){var r=ee.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Kn(e,t,n){var r=ee.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _l(e,t,n){var r=ee.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function yl(e,t,n){var r=ee.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function bl(e,t,n){var r=ee.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function wl(e,t,n){var r=ee.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vl(e,t,n){var r=ol.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function kl(e,t,n){var r=ee.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ml(e,t,n){var r=ee.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function er(e,t){return W(e.getDate(),t,2)}function xl(e,t){return W(e.getHours(),t,2)}function Sl(e,t){return W(e.getHours()%12||12,t,2)}function Dl(e,t){return W(1+ct.count(Me(e),e),t,3)}function Vr(e,t){return W(e.getMilliseconds(),t,3)}function Tl(e,t){return Vr(e,t)+"000"}function Cl(e,t){return W(e.getMonth()+1,t,2)}function Ul(e,t){return W(e.getMinutes(),t,2)}function Nl(e,t){return W(e.getSeconds(),t,2)}function Al(e){var t=e.getDay();return t===0?7:t}function Hl(e,t){return W(Yt.count(Me(e)-1,e),t,2)}function Xr(e){var t=e.getDay();return t>=4||t===0?Ze(e):Ze.ceil(e)}function Ll(e,t){return e=Xr(e),W(Ze.count(Me(e),e)+(Me(e).getDay()===4),t,2)}function Fl(e){return e.getDay()}function Pl(e,t){return W(Lt.count(Me(e)-1,e),t,2)}function Yl(e,t){return W(e.getFullYear()%100,t,2)}function Ol(e,t){return e=Xr(e),W(e.getFullYear()%100,t,2)}function El(e,t){return W(e.getFullYear()%1e4,t,4)}function Wl(e,t){var n=e.getDay();return e=n>=4||n===0?Ze(e):Ze.ceil(e),W(e.getFullYear()%1e4,t,4)}function $l(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+W(t/60|0,"0",2)+W(t%60,"0",2)}function tr(e,t){return W(e.getUTCDate(),t,2)}function jl(e,t){return W(e.getUTCHours(),t,2)}function Il(e,t){return W(e.getUTCHours()%12||12,t,2)}function Rl(e,t){return W(1+kn.count(Le(e),e),t,3)}function Br(e,t){return W(e.getUTCMilliseconds(),t,3)}function zl(e,t){return Br(e,t)+"000"}function ql(e,t){return W(e.getUTCMonth()+1,t,2)}function Zl(e,t){return W(e.getUTCMinutes(),t,2)}function Gl(e,t){return W(e.getUTCSeconds(),t,2)}function Vl(e){var t=e.getUTCDay();return t===0?7:t}function Xl(e,t){return W(Gr.count(Le(e)-1,e),t,2)}function Qr(e){var t=e.getUTCDay();return t>=4||t===0?Ge(e):Ge.ceil(e)}function Bl(e,t){return e=Qr(e),W(Ge.count(Le(e),e)+(Le(e).getUTCDay()===4),t,2)}function Ql(e){return e.getUTCDay()}function Jl(e,t){return W(Ft.count(Le(e)-1,e),t,2)}function Kl(e,t){return W(e.getUTCFullYear()%100,t,2)}function eu(e,t){return e=Qr(e),W(e.getUTCFullYear()%100,t,2)}function tu(e,t){return W(e.getUTCFullYear()%1e4,t,4)}function nu(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ge(e):Ge.ceil(e),W(e.getUTCFullYear()%1e4,t,4)}function ru(){return"+0000"}function nr(){return"%"}function rr(e){return+e}function ir(e){return Math.floor(+e/1e3)}var Ee,Jr;iu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iu(e){return Ee=il(e),Jr=Ee.format,Ee.parse,Ee.utcFormat,Ee.utcParse,Ee}function ou(e){return new Date(e)}function lu(e){return e instanceof Date?+e:+new Date(+e)}function Kr(e,t,n,r,i,o,l,u,a,f){var c=Rr(),s=c.invert,h=c.domain,m=f(".%L"),g=f(":%S"),_=f("%I:%M"),M=f("%I %p"),v=f("%a %d"),C=f("%b %d"),T=f("%B"),U=f("%Y");function k(S){return(a(S)<S?m:u(S)<S?g:l(S)<S?_:o(S)<S?M:r(S)<S?i(S)<S?v:C:n(S)<S?T:U)(S)}return c.invert=function(S){return new Date(s(S))},c.domain=function(S){return arguments.length?h(Array.from(S,lu)):h().map(ou)},c.ticks=function(S){var j=h();return e(j[0],j[j.length-1],S??10)},c.tickFormat=function(S,j){return j==null?k:f(j)},c.nice=function(S){var j=h();return(!S||typeof S.range!="function")&&(S=t(j[0],j[j.length-1],S??10)),S?h(Io(j,S)):c},c.copy=function(){return Ir(c,Kr(e,t,n,r,i,o,l,u,a,f))},c}function ei(){return gn.apply(Kr(nl,rl,Me,Mn,Yt,ct,vn,wn,je,Jr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function z(e){return function(){return e}}const tn=Math.PI,nn=2*tn,Ue=1e-6,uu=nn-Ue;function ti(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function au(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ti;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class fu{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ti:au(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,a=r-t,f=i-n,c=l-t,s=u-n,h=c*c+s*s;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Ue)if(!(Math.abs(s*a-f*c)>Ue)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-l,g=i-u,_=a*a+f*f,M=m*m+g*g,v=Math.sqrt(_),C=Math.sqrt(h),T=o*Math.tan((tn-Math.acos((_+h-M)/(2*v*C)))/2),U=T/C,k=T/v;Math.abs(U-1)>Ue&&this._append`L${t+U*c},${n+U*s}`,this._append`A${o},${o},0,0,${+(s*m>c*g)},${this._x1=t+k*a},${this._y1=n+k*f}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),a=r*Math.sin(i),f=t+u,c=n+a,s=1^l,h=l?i-o:o-i;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>Ue||Math.abs(this._y1-c)>Ue)&&this._append`L${f},${c}`,r&&(h<0&&(h=h%nn+nn),h>uu?this._append`A${r},${r},0,1,${s},${t-u},${n-a}A${r},${r},0,1,${s},${this._x1=f},${this._y1=c}`:h>Ue&&this._append`A${r},${r},0,${+(h>=tn)},${s},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ni(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new fu(t)}function xn(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ri(e){this._context=e}ri.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ii(e){return new ri(e)}function oi(e){return e[0]}function li(e){return e[1]}function ui(e,t){var n=z(!0),r=null,i=ii,o=null,l=ni(u);e=typeof e=="function"?e:e===void 0?oi:z(e),t=typeof t=="function"?t:t===void 0?li:z(t);function u(a){var f,c=(a=xn(a)).length,s,h=!1,m;for(r==null&&(o=i(m=l())),f=0;f<=c;++f)!(f<c&&n(s=a[f],f,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(s,f,a),+t(s,f,a));if(m)return o=null,m+""||null}return u.x=function(a){return arguments.length?(e=typeof a=="function"?a:z(+a),u):e},u.y=function(a){return arguments.length?(t=typeof a=="function"?a:z(+a),u):t},u.defined=function(a){return arguments.length?(n=typeof a=="function"?a:z(!!a),u):n},u.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),u):i},u.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),u):r},u}function su(e,t,n){var r=null,i=z(!0),o=null,l=ii,u=null,a=ni(f);e=typeof e=="function"?e:e===void 0?oi:z(+e),t=typeof t=="function"?t:z(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?li:z(+n);function f(s){var h,m,g,_=(s=xn(s)).length,M,v=!1,C,T=new Array(_),U=new Array(_);for(o==null&&(u=l(C=a())),h=0;h<=_;++h){if(!(h<_&&i(M=s[h],h,s))===v)if(v=!v)m=h,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),g=h-1;g>=m;--g)u.point(T[g],U[g]);u.lineEnd(),u.areaEnd()}v&&(T[h]=+e(M,h,s),U[h]=+t(M,h,s),u.point(r?+r(M,h,s):T[h],n?+n(M,h,s):U[h]))}if(C)return u=null,C+""||null}function c(){return ui().defined(i).curve(l).context(o)}return f.x=function(s){return arguments.length?(e=typeof s=="function"?s:z(+s),r=null,f):e},f.x0=function(s){return arguments.length?(e=typeof s=="function"?s:z(+s),f):e},f.x1=function(s){return arguments.length?(r=s==null?null:typeof s=="function"?s:z(+s),f):r},f.y=function(s){return arguments.length?(t=typeof s=="function"?s:z(+s),n=null,f):t},f.y0=function(s){return arguments.length?(t=typeof s=="function"?s:z(+s),f):t},f.y1=function(s){return arguments.length?(n=s==null?null:typeof s=="function"?s:z(+s),f):n},f.lineX0=f.lineY0=function(){return c().x(e).y(t)},f.lineY1=function(){return c().x(e).y(n)},f.lineX1=function(){return c().x(r).y(t)},f.defined=function(s){return arguments.length?(i=typeof s=="function"?s:z(!!s),f):i},f.curve=function(s){return arguments.length?(l=s,o!=null&&(u=l(o)),f):l},f.context=function(s){return arguments.length?(s==null?o=u=null:u=l(o=s),f):o},f}function or(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lr(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function cu(e,t){return e[t]}function hu(e){const t=[];return t.key=e,t}function gu(){var e=z([]),t=lr,n=or,r=cu;function i(o){var l=Array.from(e.apply(this,arguments),hu),u,a=l.length,f=-1,c;for(const s of o)for(u=0,++f;u<a;++u)(l[u][f]=[0,+r(s,l[u].key,f,o)]).data=s;for(u=0,c=xn(t(l));u<a;++u)l[c[u]].index=u;return n(l,c),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:z(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:z(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?lr:typeof o=="function"?o:z(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??or,i):n},i}function ur(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function ar(e){let t,n,r,i,o,l,u,a=e[2]==="Day"&&fr(e),f=e[2]==="Month"&&sr(e);return{c(){t=Q("line"),o=X(),a&&a.c(),l=X(),f&&f.c(),u=ft(),d(t,"x1",n=e[1](new Date(e[4]))),d(t,"x2",r=e[1](new Date(e[4]))),d(t,"y1",e[0]),d(t,"y2",i=e[0]+Ve),d(t,"stroke","#808080")},m(c,s){H(c,t,s),H(c,o,s),a&&a.m(c,s),H(c,l,s),f&&f.m(c,s),H(c,u,s)},p(c,s){s&10&&n!==(n=c[1](new Date(c[4])))&&d(t,"x1",n),s&10&&r!==(r=c[1](new Date(c[4])))&&d(t,"x2",r),s&1&&d(t,"y1",c[0]),s&1&&i!==(i=c[0]+Ve)&&d(t,"y2",i),c[2]==="Day"?a?a.p(c,s):(a=fr(c),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),c[2]==="Month"?f?f.p(c,s):(f=sr(c),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null)},d(c){c&&(A(t),A(o),A(l),A(u)),a&&a.d(c),f&&f.d(c)}}}function fr(e){let t,n=`${new Date(e[4]).toLocaleDateString("en-US",{day:"2-digit"})}/${new Date(e[4]).toLocaleDateString("en-US",{month:"2-digit"})}`,r,i,o;return{c(){t=Q("text"),r=ue(n),d(t,"x",i=e[1](new Date(e[4]))),d(t,"y",o=e[0]+Ve),d(t,"dy","6"),d(t,"dominant-baseline","hanging"),d(t,"text-anchor","middle"),d(t,"class","svelte-1ltpne6")},m(l,u){H(l,t,u),D(t,r)},p(l,u){u&8&&n!==(n=`${new Date(l[4]).toLocaleDateString("en-US",{day:"2-digit"})}/${new Date(l[4]).toLocaleDateString("en-US",{month:"2-digit"})}`)&&ge(r,n),u&10&&i!==(i=l[1](new Date(l[4])))&&d(t,"x",i),u&1&&o!==(o=l[0]+Ve)&&d(t,"y",o)},d(l){l&&A(t)}}}function sr(e){let t,n=new Date(e[4]).toString().split(" ")[1]+"",r,i,o;return{c(){t=Q("text"),r=ue(n),d(t,"x",i=e[1](e[4])),d(t,"y",o=e[0]+Ve),d(t,"dy","6"),d(t,"dominant-baseline","hanging"),d(t,"text-anchor","middle"),d(t,"class","svelte-1ltpne6")},m(l,u){H(l,t,u),D(t,r)},p(l,u){u&8&&n!==(n=new Date(l[4]).toString().split(" ")[1]+"")&&ge(r,n),u&10&&i!==(i=l[1](l[4]))&&d(t,"x",i),u&1&&o!==(o=l[0]+Ve)&&d(t,"y",o)},d(l){l&&A(t)}}}function cr(e){let t,n=e[4]&&ar(e);return{c(){n&&n.c(),t=ft()},m(r,i){n&&n.m(r,i),H(r,t,i)},p(r,i){r[4]?n?n.p(r,i):(n=ar(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&A(t),n&&n.d(r)}}}function du(e){let t,n=ie(e[3]),r=[];for(let i=0;i<n.length;i+=1)r[i]=cr(ur(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=ft()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);H(i,t,o)},p(i,[o]){if(o&15){n=ie(i[3]);let l;for(l=0;l<n.length;l+=1){const u=ur(i,n,l);r[l]?r[l].p(u,o):(r[l]=cr(u),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:K,o:K,d(i){i&&A(t),Fe(r,i)}}}const Ve=4;function mu(e,t,n){let{height:r}=t,{xScale:i}=t,{interval:o}=t,{ticks:l}=t;return e.$$set=u=>{"height"in u&&n(0,r=u.height),"xScale"in u&&n(1,i=u.xScale),"interval"in u&&n(2,o=u.interval),"ticks"in u&&n(3,l=u.ticks)},[r,i,o,l]}class ai extends Te{constructor(t){super(),De(this,t,mu,du,Se,{height:0,xScale:1,interval:2,ticks:3})}}function hr(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function gr(e){let t,n,r,i=e[4]+"",o,l;return{c(){t=Q("g"),n=Q("line"),r=Q("text"),o=ue(i),d(n,"x1",-rn),d(n,"x2",e[0]),d(n,"y1",0),d(n,"y2",0),d(n,"stroke",e[6]===0?"#8f8f8f":"#e5e7eb"),d(r,"x",-rn-30),d(r,"dominant-baseline","middle"),d(r,"class","svelte-p3sede"),d(t,"class","tick"),d(t,"transform",l="translate(0, "+e[1](e[4])+")")},m(u,a){H(u,t,a),D(t,n),D(t,r),D(r,o)},p(u,a){a&1&&d(n,"x2",u[0]),a&8&&i!==(i=u[4]+"")&&ge(o,i),a&10&&l!==(l="translate(0, "+u[1](u[4])+")")&&d(t,"transform",l)},d(u){u&&A(t)}}}function pu(e){let t,n,r,i=ie(e[3]),o=[];for(let l=0;l<i.length;l+=1)o[l]=gr(hr(e,i,l));return{c(){t=Q("g");for(let l=0;l<o.length;l+=1)o[l].c();n=Q("text"),r=ue(e[2]),d(n,"class","axis-title svelte-p3sede"),d(n,"x",-rn-30),d(n,"y",-36),d(n,"dy","4"),d(n,"dominant-baseline","hanging"),d(n,"text-anchor","start"),d(t,"class","axis y")},m(l,u){H(l,t,u);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(t,null);D(t,n),D(n,r)},p(l,[u]){if(u&11){i=ie(l[3]);let a;for(a=0;a<i.length;a+=1){const f=hr(l,i,a);o[a]?o[a].p(f,u):(o[a]=gr(f),o[a].c(),o[a].m(t,n))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}u&4&&ge(r,l[2])},i:K,o:K,d(l){l&&A(t),Fe(o,l)}}}const rn=10;function _u(e,t,n){let{width:r}=t,{yScale:i}=t,{title:o}=t,{ticks:l}=t;return e.$$set=u=>{"width"in u&&n(0,r=u.width),"yScale"in u&&n(1,i=u.yScale),"title"in u&&n(2,o=u.title),"ticks"in u&&n(3,l=u.ticks)},[r,i,o,l]}class fi extends Te{constructor(t){super(),De(this,t,_u,pu,Se,{width:0,yScale:1,title:2,ticks:3})}}function dr(e,t,n){const r=e.slice();return r[5]=t[n].color,r[6]=t[n].text,r}function mr(e){let t,n;return{c(){t=Y("h3"),n=ue(e[2]),he(t,"margin","5px 20px")},m(r,i){H(r,t,i),D(t,n)},p(r,i){i&4&&ge(n,r[2])},d(r){r&&A(t)}}}function pr(e){let t,n,r,i,o=e[6]+"",l,u,a,f;function c(...s){return e[3](e[6],...s)}return{c(){t=Y("div"),n=Y("div"),r=X(),i=Y("span"),l=ue(o),u=X(),d(n,"class","color-circle svelte-is9dy7"),he(n,"background-color",e[5]),d(t,"class","legend-item svelte-is9dy7"),d(t,"cursor","pointer")},m(s,h){H(s,t,h),D(t,n),D(t,r),D(t,i),D(i,l),D(t,u),a||(f=[we(t,"click",c),we(t,"dblclick",e[4])],a=!0)},p(s,h){e=s,h&2&&he(n,"background-color",e[5]),h&2&&o!==(o=e[6]+"")&&ge(l,o)},d(s){s&&A(t),a=!1,_e(f)}}}function yu(e){let t,n,r=e[2]&&mr(e),i=ie(e[1]),o=[];for(let l=0;l<i.length;l+=1)o[l]=pr(dr(e,i,l));return{c(){r&&r.c(),t=X(),n=Y("div");for(let l=0;l<o.length;l+=1)o[l].c();d(n,"class","legend-container svelte-is9dy7")},m(l,u){r&&r.m(l,u),H(l,t,u),H(l,n,u);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(n,null)},p(l,[u]){if(l[2]?r?r.p(l,u):(r=mr(l),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),u&3){i=ie(l[1]);let a;for(a=0;a<i.length;a+=1){const f=dr(l,i,a);o[a]?o[a].p(f,u):(o[a]=pr(f),o[a].c(),o[a].m(n,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}},i:K,o:K,d(l){l&&(A(t),A(n)),r&&r.d(l),Fe(o,l)}}}function bu(e,t,n){let{legendData:r}=t,{title:i}=t,{clicked:o}=t;const l=(a,f)=>{f.stopImmediatePropagation(),n(0,o=a)},u=a=>{a.stopImmediatePropagation(),n(0,o=null)};return e.$$set=a=>{"legendData"in a&&n(1,r=a.legendData),"title"in a&&n(2,i=a.title),"clicked"in a&&n(0,o=a.clicked)},[o,r,i,l,u]}class _r extends Te{constructor(t){super(),De(this,t,bu,yu,Se,{legendData:1,title:2,clicked:0})}}function yr(e){let t,n,r;return{c(){t=Q("line"),d(t,"x1",n=e[1](e[0])),d(t,"x2",r=e[1](e[0])),d(t,"y1",0),d(t,"y2",e[3]),d(t,"stroke","darkgrey"),d(t,"stroke-dasharray","2, 2"),d(t,"pointer-events","none")},m(i,o){H(i,t,o)},p(i,o){o&3&&n!==(n=i[1](i[0]))&&d(t,"x1",n),o&3&&r!==(r=i[1](i[0]))&&d(t,"x2",r),o&8&&d(t,"y2",i[3])},d(i){i&&A(t)}}}function wu(e){let t,n,r,i,o,l=e[0]&&yr(e);return{c(){t=Q("rect"),n=X(),l&&l.c(),r=ft(),d(t,"class","hover-listener svelte-oqmw6s"),d(t,"fill","transparent"),d(t,"width",e[2]),d(t,"height",e[3])},m(u,a){H(u,t,a),H(u,n,a),l&&l.m(u,a),H(u,r,a),i||(o=[we(t,"mousemove",e[4]),we(t,"mouseleave",e[5])],i=!0)},p(u,[a]){a&4&&d(t,"width",u[2]),a&8&&d(t,"height",u[3]),u[0]?l?l.p(u,a):(l=yr(u),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},i:K,o:K,d(u){u&&(A(t),A(n),A(r)),l&&l.d(u),i=!1,_e(o)}}}function vu(e,t,n){let{xScale:r}=t,{margin:i}=t,{width:o}=t,{height:l}=t,{hoveredDate:u}=t,{xPos:a}=t;const f=function(s){n(0,u=Math.round(r.invert(s.offsetX-i.left))),n(6,a=s.offsetX-i.left)},c=function(){n(0,u=null),n(6,a=0)};return e.$$set=s=>{"xScale"in s&&n(1,r=s.xScale),"margin"in s&&n(7,i=s.margin),"width"in s&&n(2,o=s.width),"height"in s&&n(3,l=s.height),"hoveredDate"in s&&n(0,u=s.hoveredDate),"xPos"in s&&n(6,a=s.xPos)},[u,r,o,l,f,c,a,i]}class ku extends Te{constructor(t){super(),De(this,t,vu,wu,Se,{xScale:1,margin:7,width:2,height:3,hoveredDate:0,xPos:6})}}function Mu(e){const t=e-1;return t*t*t+1}function on(e,{delay:t=0,duration:n=400,easing:r=Pt}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:o=>`opacity: ${o*i}`}}function xu(e,{delay:t=0,duration:n=400,easing:r=Mu,x:i=0,y:o=0,opacity:l=0}={}){const u=getComputedStyle(e),a=+u.opacity,f=u.transform==="none"?"":u.transform,c=a*(1-l),[s,h]=Tn(i),[m,g]=Tn(o);return{delay:t,duration:n,easing:r,css:(_,M)=>`
			transform: ${f} translate(${(1-_)*s}${h}, ${(1-_)*m}${g});
			opacity: ${a-c*M}`}}function br(e,t,n){const r=e.slice();return r[9]=t[n],r}function wr(e){let t,n,r=e[9]+"",i,o,l,u=e[0][e[9]]+"",a,f;return{c(){t=Y("div"),n=Y("span"),i=ue(r),o=X(),l=Y("span"),a=ue(u),f=X(),d(n,"class","key svelte-29siub"),he(n,"background",e[1](e[9])),d(t,"class","info svelte-29siub")},m(c,s){H(c,t,s),D(t,n),D(n,i),D(t,o),D(t,l),D(l,a),D(t,f)},p(c,s){s&8&&r!==(r=c[9]+"")&&ge(i,r),s&10&&he(n,"background",c[1](c[9])),s&9&&u!==(u=c[0][c[9]]+"")&&ge(a,u)},d(c){c&&A(t)}}}function Su(e){let t,n,r=`${new Date(e[0].date_id).toLocaleDateString("en-US",{day:"2-digit"})}/${new Date(e[0].date_id).toLocaleDateString("en-US",{month:"2-digit"})}/${new Date(e[0].date_id).toLocaleDateString("en-US",{year:"2-digit"})}`,i,o,l,u,a,f,c=ie(e[3]),s=[];for(let h=0;h<c.length;h+=1)s[h]=wr(br(e,c,h));return{c(){t=Y("div"),n=Y("h1"),i=ue(r),o=X();for(let h=0;h<s.length;h+=1)s[h].c();d(n,"class","svelte-29siub"),d(t,"class","tooltip svelte-29siub"),he(t,"left",e[4]+"px"),he(t,"top",e[5]+"px"),ve(()=>e[8].call(t))},m(h,m){H(h,t,m),D(t,n),D(n,i),D(t,o);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(t,null);l=ki(t,e[8].bind(t)),f=!0},p(h,[m]){if((!f||m&1)&&r!==(r=`${new Date(h[0].date_id).toLocaleDateString("en-US",{day:"2-digit"})}/${new Date(h[0].date_id).toLocaleDateString("en-US",{month:"2-digit"})}/${new Date(h[0].date_id).toLocaleDateString("en-US",{year:"2-digit"})}`)&&ge(i,r),m&11){c=ie(h[3]);let g;for(g=0;g<c.length;g+=1){const _=br(h,c,g);s[g]?s[g].p(_,m):(s[g]=wr(_),s[g].c(),s[g].m(t,null))}for(;g<s.length;g+=1)s[g].d(1);s.length=c.length}(!f||m&16)&&he(t,"left",h[4]+"px")},i(h){f||(h&&ve(()=>{f&&(a&&a.end(1),u=Ai(t,xu,{y:10,duration:200,delay:200}),u.start())}),f=!0)},o(h){u&&u.invalidate(),h&&(a=Hi(t,on,{})),f=!1},d(h){h&&A(t),Fe(s,h),l(),h&&a&&a.end()}}}const Zt=5,Du=5;function Tu(e,t,n){let r,{width:i}=t,{data:o}=t,{colorScale:l}=t,{x:u}=t,a,f,c=Du;function s(){a=this.clientWidth,n(2,a)}return e.$$set=h=>{"width"in h&&n(6,i=h.width),"data"in h&&n(0,o=h.data),"colorScale"in h&&n(1,l=h.colorScale),"x"in h&&n(7,u=h.x)},e.$$.update=()=>{if(e.$$.dirty&196&&n(4,r=u+a+Zt>i?u-a-Zt:u+Zt),e.$$.dirty&1&&o){let h=Object.entries(o);h.sort((g,_)=>_[1]-g[1]);let m=Object.fromEntries(h);n(3,f=Object.keys(m).filter(g=>g!=="date_id"&&g!=="region"))}},[o,l,a,f,r,c,i,u,s]}class Cu extends Te{constructor(t){super(),De(this,t,Tu,Su,Se,{width:6,data:0,colorScale:1,x:7})}}function vr(e,t,n){const r=e.slice();return r[30]=t[n],r[32]=n,r}function kr(e){let t,n,r,i,o,l,u;return{c(){t=Q("path"),d(t,"d",n=e[9](e[30])),d(t,"stroke",r=e[15](e[30].key)),d(t,"fill",i=e[15](e[30].key)),d(t,"stroke-width","1"),d(t,"opacity",o=e[14]?e[14]===e[30].key?1:.2:1)},m(a,f){H(a,t,f),u=!0},p(a,f){(!u||f[0]&1536&&n!==(n=a[9](a[30])))&&d(t,"d",n),(!u||f[0]&1024&&r!==(r=a[15](a[30].key)))&&d(t,"stroke",r),(!u||f[0]&1024&&i!==(i=a[15](a[30].key)))&&d(t,"fill",i),(!u||f[0]&17408&&o!==(o=a[14]?a[14]===a[30].key?1:.2:1))&&d(t,"opacity",o)},i(a){u||(a&&ve(()=>{u&&(l||(l=Nn(t,on,{},!0)),l.run(1))}),u=!0)},o(a){a&&(l||(l=Nn(t,on,{},!1)),l.run(0)),u=!1},d(a){a&&A(t),a&&l&&l.end()}}}function Mr(e){let t,n;return t=new Cu({props:{data:e[8],x:e[13],colorScale:e[15],width:e[7]}}),{c(){de(t.$$.fragment)},m(r,i){fe(t,r,i),n=!0},p(r,i){const o={};i[0]&256&&(o.data=r[8]),i[0]&8192&&(o.x=r[13]),i[0]&128&&(o.width=r[7]),t.$set(o)},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){se(t,r)}}}function Uu(e){let t,n,r,i,o,l,u,a,f,c,s,h,m,g,_,M,v,C,T;i=new ai({props:{height:e[0],interval:"Day",ticks:e[4].ticks(20),xScale:e[4]}}),o=new fi({props:{width:e[1],yScale:e[3],ticks:e[3].ticks(6),title:"Power Generation Value (in GWh)"}});let U=ie(e[10]),k=[];for(let p=0;p<U.length;p+=1)k[p]=kr(vr(e,U,p));const S=p=>V(k[p],1,1,()=>{k[p]=null});function j(p){e[22](p)}function G(p){e[23](p)}let B={width:e[1],height:e[0],xScale:e[4],margin:e[16]};e[2]!==void 0&&(B.hoveredDate=e[2]),e[13]!==void 0&&(B.xPos=e[13]),u=new ku({props:B}),xe.push(()=>pt(u,"hoveredDate",j)),xe.push(()=>pt(u,"xPos",G));let $=e[2]&&e[8]&&Mr(e);function N(p){e[25](p)}let q={legendData:e[12],title:"Renewables"};e[14]!==void 0&&(q.clicked=e[14]),g=new _r({props:q}),xe.push(()=>pt(g,"clicked",N));function F(p){e[26](p)}let O={legendData:e[11],title:"Non-renewables"};return e[14]!==void 0&&(O.clicked=e[14]),v=new _r({props:O}),xe.push(()=>pt(v,"clicked",F)),{c(){t=Y("div"),n=Q("svg"),r=Q("g"),de(i.$$.fragment),de(o.$$.fragment);for(let p=0;p<k.length;p+=1)k[p].c();l=ft(),de(u.$$.fragment),c=X(),$&&$.c(),s=X(),h=Y("div"),h.innerHTML='<span style="font-size: 0.7em; margin-left: 20px;">Click on a legend item to highlight the fuel source. Double-click on any item to un-highlight.</span>',m=X(),de(g.$$.fragment),M=X(),de(v.$$.fragment),d(r,"transform","translate("+e[16].left+" "+e[16].top+")"),d(n,"width",e[7]),d(n,"height",e[6]),d(t,"class","chart-container svelte-16yxpq0")},m(p,b){H(p,t,b),D(t,n),D(n,r),fe(i,r,null),fe(o,r,null);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(r,null);D(r,l),fe(u,r,null),D(t,c),$&&$.m(t,null),e[24](t),H(p,s,b),H(p,h,b),H(p,m,b),fe(g,p,b),H(p,M,b),fe(v,p,b),T=!0},p(p,b){const w={};b[0]&1&&(w.height=p[0]),b[0]&16&&(w.ticks=p[4].ticks(20)),b[0]&16&&(w.xScale=p[4]),i.$set(w);const P={};if(b[0]&2&&(P.width=p[1]),b[0]&8&&(P.yScale=p[3]),b[0]&8&&(P.ticks=p[3].ticks(6)),o.$set(P),b[0]&50688){U=ie(p[10]);let te;for(te=0;te<U.length;te+=1){const ht=vr(p,U,te);k[te]?(k[te].p(ht,b),R(k[te],1)):(k[te]=kr(ht),k[te].c(),R(k[te],1),k[te].m(r,l))}for(rt(),te=U.length;te<k.length;te+=1)S(te);it()}const Z={};b[0]&2&&(Z.width=p[1]),b[0]&1&&(Z.height=p[0]),b[0]&16&&(Z.xScale=p[4]),!a&&b[0]&4&&(a=!0,Z.hoveredDate=p[2],mt(()=>a=!1)),!f&&b[0]&8192&&(f=!0,Z.xPos=p[13],mt(()=>f=!1)),u.$set(Z),(!T||b[0]&128)&&d(n,"width",p[7]),(!T||b[0]&64)&&d(n,"height",p[6]),p[2]&&p[8]?$?($.p(p,b),b[0]&260&&R($,1)):($=Mr(p),$.c(),R($,1),$.m(t,null)):$&&(rt(),V($,1,1,()=>{$=null}),it());const Xe={};b[0]&4096&&(Xe.legendData=p[12]),!_&&b[0]&16384&&(_=!0,Xe.clicked=p[14],mt(()=>_=!1)),g.$set(Xe);const Be={};b[0]&2048&&(Be.legendData=p[11]),!C&&b[0]&16384&&(C=!0,Be.clicked=p[14],mt(()=>C=!1)),v.$set(Be)},i(p){if(!T){R(i.$$.fragment,p),R(o.$$.fragment,p);for(let b=0;b<U.length;b+=1)R(k[b]);R(u.$$.fragment,p),R($),R(g.$$.fragment,p),R(v.$$.fragment,p),T=!0}},o(p){V(i.$$.fragment,p),V(o.$$.fragment,p),k=k.filter(Boolean);for(let b=0;b<k.length;b+=1)V(k[b]);V(u.$$.fragment,p),V($),V(g.$$.fragment,p),V(v.$$.fragment,p),T=!1},d(p){p&&(A(t),A(s),A(h),A(m),A(M)),se(i),se(o),Fe(k,p),se(u),$&&$.d(),e[24](null),se(g,p),se(v,p)}}}function Nu(e,t,n){let r,i,o,l,u,a,f,c,s,h,m,g,_,{data:M,attribute:v}=t;const C=["Wind onshore","Natural Gas","Biomass","Wind offshore","Nuclear","Solar","Run-of-River Hydro","Pumped storage generation","Other renewables","Dam Hydro","Geothermal"],T=["Lignite","Hard Coal","Other fossil fuel","Oil","Non-renewable waste"],U=Er().domain(T.concat(C)).range(["darkslategray","dimgray","lightgray","gold","magenta","blue","lawngreen","saddlebrown","aqua","purple","yellow","teal","darkorange","red","dodgerblue","pink"]),k={top:40,right:30,bottom:30,left:60};let S,j=520,G=600,B=j-k.top-k.bottom,$=G-k.left-k.right;fn(()=>{N()}),Yr(()=>{N()});function N(){S&&(n(7,G=S.clientWidth),n(1,$=G-k.left-k.right),n(6,j=S.clientHeight),n(0,B=j-k.top-k.bottom))}function q(w){i=w,n(2,i)}function F(w){o=w,n(13,o)}function O(w){xe[w?"unshift":"push"](()=>{S=w,n(5,S)})}function p(w){r=w,n(14,r)}function b(w){r=w,n(14,r)}return e.$$set=w=>{"data"in w&&n(17,M=w.data),"attribute"in w&&n(18,v=w.attribute)},e.$$.update=()=>{e.$$.dirty[0]&131072&&n(21,l=Object.keys(M[0]).filter(w=>w!=="date_id"&&w!=="region").sort()),e.$$.dirty[0]&2228224&&n(20,u=l.map(w=>({color:U(w),text:w,total:Qi(M.map(P=>P[w]))}))),e.$$.dirty[0]&1048576&&u.sort((w,P)=>P.total-w.total),e.$$.dirty[0]&1048576&&n(19,a=u.map(w=>w.text)),e.$$.dirty[0]&1048576&&n(12,f=u.filter(w=>C.indexOf(w.text)!==-1)),e.$$.dirty[0]&1048576&&n(11,c=u.filter(w=>T.indexOf(w.text)!==-1)),e.$$.dirty[0]&262145&&n(3,s=yn().domain([0,v==="value"?2e3:1]).range([B,0])),e.$$.dirty[0]&131074&&n(4,h=ei().domain([new Date(M[0].date_id),new Date(M[M.length-1].date_id)]).range([0,$])),e.$$.dirty[0]&655360&&n(10,m=gu().keys(a)(M)),e.$$.dirty[0]&24&&n(9,g=su().x(w=>h(new Date(w.data.date_id))).y0(w=>s(w[0])).y1(w=>s(w[1]))),e.$$.dirty[0]&131076&&n(8,_=i?M.filter(w=>w.date_id>=i)[0]:null)},n(14,r=null),n(2,i=null),n(13,o=0),[B,$,i,s,h,S,j,G,_,g,m,c,f,o,r,U,k,M,v,a,u,l,q,F,O,p,b]}class Au extends Te{constructor(t){super(),De(this,t,Nu,Uu,Se,{data:17,attribute:18},null,[-1,-1])}}function xr(e,t,n){const r=e.slice();return r[14]=t[n],r}function Sr(e){let t,n,r,i,o,l,u,a,f,c=e[14][0]+"",s,h,m;return{c(){t=Q("path"),r=Q("circle"),l=Q("circle"),f=Q("text"),s=ue(c),d(t,"d",n=e[8](e[14][1])),d(t,"stroke","black"),d(t,"fill","transparent"),d(t,"stroke-width","3"),d(r,"cx",i=e[4](e[14][1][0].date_id)),d(r,"cy",o=e[3](e[14][1][0].value)),d(r,"r",5),d(r,"fill","black"),d(l,"cx",u=e[4](e[14][1][1].date_id)),d(l,"cy",a=e[3](e[14][1][1].value)),d(l,"r",5),d(l,"fill","black"),d(f,"x",h=e[4](e[14][1][1].date_id)-20),d(f,"y",m=e[3](e[14][1][1].value)-10),d(f,"fill","black"),d(f,"text-anchor","end")},m(g,_){H(g,t,_),H(g,r,_),H(g,l,_),H(g,f,_),D(f,s)},p(g,_){_&768&&n!==(n=g[8](g[14][1]))&&d(t,"d",n),_&528&&i!==(i=g[4](g[14][1][0].date_id))&&d(r,"cx",i),_&520&&o!==(o=g[3](g[14][1][0].value))&&d(r,"cy",o),_&528&&u!==(u=g[4](g[14][1][1].date_id))&&d(l,"cx",u),_&520&&a!==(a=g[3](g[14][1][1].value))&&d(l,"cy",a),_&512&&c!==(c=g[14][0]+"")&&ge(s,c),_&528&&h!==(h=g[4](g[14][1][1].date_id)-20)&&d(f,"x",h),_&520&&m!==(m=g[3](g[14][1][1].value)-10)&&d(f,"y",m)},d(g){g&&(A(t),A(r),A(l),A(f))}}}function Hu(e){let t,n,r,i,o,l;i=new ai({props:{height:e[1],xScale:e[4],interval:"Month",ticks:e[0].map(Dr)}}),o=new fi({props:{width:e[2],yScale:e[3],ticks:e[3].ticks(6),title:"Power Generation Value (in GWh)"}});let u=ie(e[9]),a=[];for(let f=0;f<u.length;f+=1)a[f]=Sr(xr(e,u,f));return{c(){t=Y("div"),n=Q("svg"),r=Q("g"),de(i.$$.fragment),de(o.$$.fragment);for(let f=0;f<a.length;f+=1)a[f].c();d(r,"transform","translate("+e[10].left+" "+e[10].top+")"),d(n,"width",e[6]),d(n,"height",e[7]),d(t,"class","chart-container svelte-1adya0c")},m(f,c){H(f,t,c),D(t,n),D(n,r),fe(i,r,null),fe(o,r,null);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(r,null);e[12](t),l=!0},p(f,[c]){const s={};c&2&&(s.height=f[1]),c&16&&(s.xScale=f[4]),c&1&&(s.ticks=f[0].map(Dr)),i.$set(s);const h={};if(c&4&&(h.width=f[2]),c&8&&(h.yScale=f[3]),c&8&&(h.ticks=f[3].ticks(6)),o.$set(h),c&792){u=ie(f[9]);let m;for(m=0;m<u.length;m+=1){const g=xr(f,u,m);a[m]?a[m].p(g,c):(a[m]=Sr(g),a[m].c(),a[m].m(r,null))}for(;m<a.length;m+=1)a[m].d(1);a.length=u.length}(!l||c&64)&&d(n,"width",f[6]),(!l||c&128)&&d(n,"height",f[7])},i(f){l||(R(i.$$.fragment,f),R(o.$$.fragment,f),l=!0)},o(f){V(i.$$.fragment,f),V(o.$$.fragment,f),l=!1},d(f){f&&A(t),se(i),se(o),Fe(a,f),e[12](null)}}}const Dr=e=>e.date_id;function Lu(e,t,n){let r,i,o,l,u,{data:a}=t;const f={top:40,right:30,bottom:30,left:60};let c,s=200,h=520,m=h-f.top-f.bottom,g=s-f.left-f.right;fn(()=>{_()}),Yr(()=>{_()});function _(){c&&(n(6,s=c.clientWidth),n(2,g=s-f.left-f.right),n(7,h=c.clientHeight),n(1,m=h-f.top-f.bottom))}function M(v){xe[v?"unshift":"push"](()=>{c=v,n(5,c)})}return e.$$set=v=>{"data"in v&&n(0,a=v.data)},e.$$.update=()=>{e.$$.dirty&1&&n(11,r=a.reduce((v,C)=>{const{date_id:T}=C;return"renewable"in C&&v.push({date_id:T,type:"renewable",value:C.renewable}),"non-renewable"in C&&v.push({date_id:T,type:"non-renewable",value:C["non-renewable"]}),v},[])),e.$$.dirty&2048&&n(9,i=qi(r,v=>v.type)),e.$$.dirty&2&&n(3,o=yn().domain([0,5e4]).range([m,0])),e.$$.dirty&5&&n(4,l=ei().domain([new Date(a[0].date_id),new Date(a[a.length-1].date_id)]).range([0,g])),e.$$.dirty&24&&n(8,u=ui().x((v,C)=>l(new Date(v.date_id))).y(v=>o(v.value)))},[a,m,g,o,l,c,s,h,u,i,f,r,M]}class Fu extends Te{constructor(t){super(),De(this,t,Lu,Hu,Se,{data:0})}}function Tr(e,t,n){const r=e.slice();return r[11]=t[n],r}function Pu(e){let t;return{c(){t=Y("div"),t.textContent="Loading...",d(t,"class","wrapper svelte-5jfaof")},m(n,r){H(n,t,r)},p:K,i:K,o:K,d(n){n&&A(t)}}}function Yu(e){let t,n,r,i,o,l,u,a,f,c,s,h,m,g,_,M,v,C,T,U,k,S,j,G,B,$,N,q=ie(e[2]),F=[];for(let b=0;b<q.length;b+=1)F[b]=Cr(Tr(e,q,b));let O=e[0].length>0&&Ur(e),p=e[1].length>0&&Nr(e);return{c(){t=Y("div"),n=Y("div"),n.innerHTML="<h2>Power generation for different fuel sources from October to December 2022</h2>",r=X(),i=Y("div"),o=Y("div"),l=Y("select");for(let b=0;b<F.length;b+=1)F[b].c();u=X(),a=Y("span"),f=X(),c=Y("div"),s=Y("h3"),s.textContent="Show as:",h=X(),m=Y("div"),g=Y("h3"),g.textContent="Absolute values",M=X(),v=Y("div"),C=Y("h3"),C.textContent="% of the total generation",U=X(),k=Y("div"),S=Y("div"),O&&O.c(),j=X(),G=Y("div"),p&&p.c(),d(n,"class","title"),he(n,"margin-left","20px"),d(l,"class","svelte-5jfaof"),d(a,"class","caret svelte-5jfaof"),d(o,"class","dropdown svelte-5jfaof"),he(s,"margin-top","30px"),he(s,"width","68px"),d(s,"class","svelte-5jfaof"),d(g,"class","svelte-5jfaof"),d(m,"class",_=gt(e[4]==="value"?"active":"")+" svelte-5jfaof"),d(C,"class","svelte-5jfaof"),d(v,"class",T=gt(e[4]==="perc"?"active":"")+" svelte-5jfaof"),d(c,"class","buttons svelte-5jfaof"),d(i,"class","panel svelte-5jfaof"),d(t,"class","header svelte-5jfaof"),d(S,"class","left svelte-5jfaof"),d(G,"class","right svelte-5jfaof"),d(k,"class","wrapper svelte-5jfaof")},m(b,w){H(b,t,w),D(t,n),D(t,r),D(t,i),D(i,o),D(o,l);for(let P=0;P<F.length;P+=1)F[P]&&F[P].m(l,null);Un(l,e[3]),D(o,u),D(o,a),D(i,f),D(i,c),D(c,s),D(c,h),D(c,m),D(m,g),D(c,M),D(c,v),D(v,C),H(b,U,w),H(b,k,w),D(k,S),O&&O.m(S,null),D(k,j),D(k,G),p&&p.m(G,null),B=!0,$||(N=[we(l,"change",e[5]),we(m,"click",e[7]),we(v,"click",e[8])],$=!0)},p(b,w){if(w&4){q=ie(b[2]);let P;for(P=0;P<q.length;P+=1){const Z=Tr(b,q,P);F[P]?F[P].p(Z,w):(F[P]=Cr(Z),F[P].c(),F[P].m(l,null))}for(;P<F.length;P+=1)F[P].d(1);F.length=q.length}(!B||w&12)&&Un(l,b[3]),(!B||w&16&&_!==(_=gt(b[4]==="value"?"active":"")+" svelte-5jfaof"))&&d(m,"class",_),(!B||w&16&&T!==(T=gt(b[4]==="perc"?"active":"")+" svelte-5jfaof"))&&d(v,"class",T),b[0].length>0?O?(O.p(b,w),w&1&&R(O,1)):(O=Ur(b),O.c(),R(O,1),O.m(S,null)):O&&(rt(),V(O,1,1,()=>{O=null}),it()),b[1].length>0?p?(p.p(b,w),w&2&&R(p,1)):(p=Nr(b),p.c(),R(p,1),p.m(G,null)):p&&(rt(),V(p,1,1,()=>{p=null}),it())},i(b){B||(R(O),R(p),B=!0)},o(b){V(O),V(p),B=!1},d(b){b&&(A(t),A(U),A(k)),Fe(F,b),O&&O.d(),p&&p.d(),$=!1,_e(N)}}}function Cr(e){let t,n=e[11]+"",r,i;return{c(){t=Y("option"),r=ue(n),t.__value=i=e[11],Cn(t,t.__value)},m(o,l){H(o,t,l),D(t,r)},p(o,l){l&4&&n!==(n=o[11]+"")&&ge(r,n),l&4&&i!==(i=o[11])&&(t.__value=i,Cn(t,t.__value))},d(o){o&&A(t)}}}function Ur(e){let t,n;return t=new Au({props:{data:e[0],attribute:e[4]}}),{c(){de(t.$$.fragment)},m(r,i){fe(t,r,i),n=!0},p(r,i){const o={};i&1&&(o.data=r[0]),i&16&&(o.attribute=r[4]),t.$set(o)},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){se(t,r)}}}function Nr(e){let t,n;return t=new Fu({props:{data:e[1]}}),{c(){de(t.$$.fragment)},m(r,i){fe(t,r,i),n=!0},p(r,i){const o={};i&2&&(o.data=r[1]),t.$set(o)},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){V(t.$$.fragment,r),n=!1},d(r){se(t,r)}}}function Ou(e){let t,n,r,i;const o=[Yu,Pu],l=[];function u(a,f){return a[1].length>0?0:1}return n=u(e),r=l[n]=o[n](e),{c(){t=Y("main"),r.c(),d(t,"class","svelte-5jfaof")},m(a,f){H(a,t,f),l[n].m(t,null),i=!0},p(a,[f]){let c=n;n=u(a),n===c?l[n].p(a,f):(rt(),V(l[c],1,1,()=>{l[c]=null}),it(),r=l[n],r?r.p(a,f):(r=l[n]=o[n](a),r.c()),R(r,1),r.m(t,null))},i(a){i||(R(r),i=!0)},o(a){V(r),i=!1},d(a){a&&A(t),l[n].d()}}}function Eu(e,t,n){let r={},i=[],o=[],l=[],u="Germany",a="value";async function f(){try{const g=await fetch("/data",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});if(!g.ok)throw new Error(`HTTP error! Status: ${g.status}`);const _=await g.json();if(_)r={daily:JSON.parse(_.type.daily),monthly:JSON.parse(_.categorized.monthly),perc_daily:JSON.parse(_.type.perc_daily)},n(2,l=[...new Set(r.monthly.map(M=>M.region))]),n(0,i=r.daily.filter(M=>M.region===u)),n(1,o=r.monthly.filter(M=>M.region===u)),n(1,o=[o[0],o[o.length-1]]);else throw new Error("Invalid response format")}catch(g){console.error("Error fetching data:",g)}}fn(async()=>{await f()});function c(g){n(3,u=g.target.value),a==="perc"?n(0,i=r.perc_daily.filter(_=>_.region===u)):a==="value"&&n(0,i=r.daily.filter(_=>_.region===u)),n(1,o=r.monthly.filter(_=>_.region===u)),n(1,o=[o[0],o[o.length-1]])}function s(g){n(4,a=g),a==="perc"?n(0,i=r.perc_daily.filter(_=>_.region===u)):a==="value"&&n(0,i=r.daily.filter(_=>_.region===u))}return[i,o,l,u,a,c,s,()=>s("value"),()=>s("perc")]}class Wu extends Te{constructor(t){super(),De(this,t,Eu,Ou,Se,{})}}new Wu({target:document.getElementById("app")});
