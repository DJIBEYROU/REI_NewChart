var na=Object.defineProperty;var ra=(t,e,n)=>e in t?na(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nn=(t,e,n)=>(ra(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function J(){}const xn=t=>t;function eo(t){return t()}function Or(){return Object.create(null)}function $t(t){t.forEach(eo)}function Oe(t){return typeof t=="function"}function Vt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ia(t){return Object.keys(t).length===0}function Ir(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}const no=typeof window<"u";let mr=no?()=>window.performance.now():()=>Date.now(),pr=no?t=>requestAnimationFrame(t):J;const ge=new Set;function ro(t){ge.forEach(e=>{e.c(t)||(ge.delete(e),e.f())}),ge.size!==0&&pr(ro)}function _r(t){let e;return ge.size===0&&pr(ro),{promise:new Promise(n=>{ge.add(e={c:t,f:n})}),abort(){ge.delete(e)}}}function H(t,e){t.appendChild(e)}function io(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function oa(t){const e=B("style");return e.textContent="/* empty */",aa(io(t),e),e.sheet}function aa(t,e){return H(t.head||t,e),e.sheet}function W(t,e,n){t.insertBefore(e,n||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function re(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function B(t){return document.createElement(t)}function ot(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function pt(t){return document.createTextNode(t)}function ut(){return pt(" ")}function Ie(){return pt("")}function jt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function la(t){return Array.from(t.childNodes)}function Nt(t,e){e=""+e,t.data!==e&&(t.data=e)}function ua(t,e){t.value=e??""}function Ct(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function zr(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}let $e;function sa(){if($e===void 0){$e=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{$e=!0}}return $e}function fa(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=B("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=sa();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=jt(window,"message",a=>{a.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{o=jt(r.contentWindow,"resize",e),e()}),H(t,r),()=>{(i||o&&r.contentWindow)&&o(),I(r)}}function oo(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const rn=new Map;let on=0;function ca(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function ha(t,e){const n={stylesheet:oa(e),rules:{}};return rn.set(t,n),n}function an(t,e,n,r,i,o,a,l=0){const u=16.666/r;let s=`{
`;for(let p=0;p<=1;p+=u){const _=e+(n-e)*o(p);s+=p*100+`%{${a(_,1-_)}}
`}const c=s+`100% {${a(n,1-n)}}
}`,f=`__svelte_${ca(c)}_${l}`,h=io(t),{stylesheet:d,rules:g}=rn.get(h)||ha(h,t);g[f]||(g[f]=!0,d.insertRule(`@keyframes ${f} ${c}`,d.cssRules.length));const x=t.style.animation||"";return t.style.animation=`${x?`${x}, `:""}${f} ${r}ms linear ${i}ms 1 both`,on+=1,f}function ln(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),on-=i,on||ga())}function ga(){pr(()=>{on||(rn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&I(e)}),rn.clear())})}let Ye;function Le(t){Ye=t}function yr(){if(!Ye)throw new Error("Function called outside component initialization");return Ye}function Mn(t){yr().$$.on_mount.push(t)}function ao(t){yr().$$.after_update.push(t)}function da(){const t=yr();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=oo(e,n,{cancelable:r});return i.slice().forEach(a=>{a.call(t,o)}),!o.defaultPrevented}return!0}}const fe=[],Pt=[];let de=[];const Gn=[],ma=Promise.resolve();let Zn=!1;function pa(){Zn||(Zn=!0,ma.then(lo))}function Ot(t){de.push(t)}function Ve(t){Gn.push(t)}const En=new Set;let ae=0;function lo(){if(ae!==0)return;const t=Ye;do{try{for(;ae<fe.length;){const e=fe[ae];ae++,Le(e),_a(e.$$)}}catch(e){throw fe.length=0,ae=0,e}for(Le(null),fe.length=0,ae=0;Pt.length;)Pt.pop()();for(let e=0;e<de.length;e+=1){const n=de[e];En.has(n)||(En.add(n),n())}de.length=0}while(fe.length);for(;Gn.length;)Gn.pop()();Zn=!1,En.clear(),Le(t)}function _a(t){if(t.fragment!==null){t.update(),$t(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ot)}}function ya(t){const e=[],n=[];de.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),de=e}let Se;function wr(){return Se||(Se=Promise.resolve(),Se.then(()=>{Se=null})),Se}function Qt(t,e,n){t.dispatchEvent(oo(`${e?"intro":"outro"}${n}`))}const Qe=new Set;let St;function me(){St={r:0,c:[],p:St}}function pe(){St.r||$t(St.c),St=St.p}function j(t,e){t&&t.i&&(Qe.delete(t),t.i(e))}function et(t,e,n,r){if(t&&t.o){if(Qe.has(t))return;Qe.add(t),St.c.push(()=>{Qe.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const vr={duration:0};function wa(t,e,n){const r={direction:"in"};let i=e(t,n,r),o=!1,a,l,u=0;function s(){a&&ln(t,a)}function c(){const{delay:h=0,duration:d=300,easing:g=xn,tick:x=J,css:p}=i||vr;p&&(a=an(t,0,1,d,h,g,p,u++)),x(0,1);const _=mr()+h,M=_+d;l&&l.abort(),o=!0,Ot(()=>Qt(t,!0,"start")),l=_r(w=>{if(o){if(w>=M)return x(1,0),Qt(t,!0,"end"),s(),o=!1;if(w>=_){const y=g((w-_)/d);x(y,1-y)}}return o})}let f=!1;return{start(){f||(f=!0,ln(t),Oe(i)?(i=i(r),wr().then(c)):c())},invalidate(){f=!1},end(){o&&(s(),o=!1)}}}function va(t,e,n){const r={direction:"out"};let i=e(t,n,r),o=!0,a;const l=St;l.r+=1;let u;function s(){const{delay:c=0,duration:f=300,easing:h=xn,tick:d=J,css:g}=i||vr;g&&(a=an(t,1,0,f,c,h,g));const x=mr()+c,p=x+f;Ot(()=>Qt(t,!1,"start")),"inert"in t&&(u=t.inert,t.inert=!0),_r(_=>{if(o){if(_>=p)return d(0,1),Qt(t,!1,"end"),--l.r||$t(l.c),!1;if(_>=x){const M=h((_-x)/f);d(1-M,M)}}return o})}return Oe(i)?wr().then(()=>{i=i(r),s()}):s(),{end(c){c&&"inert"in t&&(t.inert=u),c&&i.tick&&i.tick(1,0),o&&(a&&ln(t,a),o=!1)}}}function Wr(t,e,n,r){let o=e(t,n,{direction:"both"}),a=r?0:1,l=null,u=null,s=null,c;function f(){s&&ln(t,s)}function h(g,x){const p=g.b-a;return x*=Math.abs(p),{a,b:g.b,d:p,duration:x,start:g.start,end:g.start+x,group:g.group}}function d(g){const{delay:x=0,duration:p=300,easing:_=xn,tick:M=J,css:w}=o||vr,y={start:mr()+x,b:g};g||(y.group=St,St.r+=1),"inert"in t&&(g?c!==void 0&&(t.inert=c):(c=t.inert,t.inert=!0)),l||u?u=y:(w&&(f(),s=an(t,a,g,p,x,_,w)),g&&M(0,1),l=h(y,p),Ot(()=>Qt(t,g,"start")),_r(b=>{if(u&&b>u.start&&(l=h(u,p),u=null,Qt(t,l.b,"start"),w&&(f(),s=an(t,a,l.b,l.duration,0,_,o.css))),l){if(b>=l.end)M(a=l.b,1-a),Qt(t,l.b,"end"),u||(l.b?f():--l.group.r||$t(l.group.c)),l=null;else if(b>=l.start){const k=b-l.start;a=l.a+l.d*_(k/l.duration),M(a,1-a)}}return!!(l||u)}))}return{run(g){Oe(o)?wr().then(()=>{o=o({direction:g?"in":"out"}),d(g)}):d(g)},end(){f(),l=u=null}}}function mt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Xe(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Mt(t){t&&t.c()}function wt(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Ot(()=>{const o=t.$$.on_mount.map(eo).filter(Oe);t.$$.on_destroy?t.$$.on_destroy.push(...o):$t(o),t.$$.on_mount=[]}),i.forEach(Ot)}function vt(t,e){const n=t.$$;n.fragment!==null&&(ya(n.after_update),$t(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ba(t,e){t.$$.dirty[0]===-1&&(fe.push(t),pa(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Xt(t,e,n,r,i,o,a,l=[-1]){const u=Ye;Le(t);const s=t.$$={fragment:null,ctx:[],props:o,update:J,not_equal:i,bound:Or(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Or(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};a&&a(s.root);let c=!1;if(s.ctx=n?n(t,e.props||{},(f,h,...d)=>{const g=d.length?d[0]:h;return s.ctx&&i(s.ctx[f],s.ctx[f]=g)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](g),c&&ba(t,f)),h}):[],s.update(),c=!0,$t(s.before_update),s.fragment=r?r(s.ctx):!1,e.target){if(e.hydrate){const f=la(e.target);s.fragment&&s.fragment.l(f),f.forEach(I)}else s.fragment&&s.fragment.c();e.intro&&j(t.$$.fragment),wt(t,e.target,e.anchor),lo()}Le(u)}class qt{constructor(){Nn(this,"$$");Nn(this,"$$set")}$destroy(){vt(this,1),this.$destroy=J}$on(e,n){if(!Oe(n))return J;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ia(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ka="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ka);function Je(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xa(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function br(t){let e,n,r;t.length!==2?(e=Je,n=(l,u)=>Je(t(l),u),r=(l,u)=>t(l)-u):(e=t===Je||t===xa?t:Ma,n=t,r=t);function i(l,u,s=0,c=l.length){if(s<c){if(e(u,u)!==0)return c;do{const f=s+c>>>1;n(l[f],u)<0?s=f+1:c=f}while(s<c)}return s}function o(l,u,s=0,c=l.length){if(s<c){if(e(u,u)!==0)return c;do{const f=s+c>>>1;n(l[f],u)<=0?s=f+1:c=f}while(s<c)}return s}function a(l,u,s=0,c=l.length){const f=i(l,u,s,c-1);return f>s&&r(l[f-1],u)>-r(l[f],u)?f-1:f}return{left:i,center:a,right:o}}function Ma(){return 0}function Da(t){return t===null?NaN:+t}const Ta=br(Je),Sa=Ta.right;br(Da).center;const Ca=Sa;function Aa(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Kn extends Map{constructor(e,n=Fa){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($r(this,e))}has(e){return super.has($r(this,e))}set(e,n){return super.set(Na(this,e),n)}delete(e){return super.delete(Ea(this,e))}}function $r({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Na({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ea({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Fa(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ua(t){return t}function La(t,...e){return Ya(t,Array.from,Ua,e)}function Ya(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const l=new Kn,u=r[a++];let s=-1;for(const c of o){const f=u(c,++s,o),h=l.get(f);h?h.push(c):l.set(f,[c])}for(const[c,f]of l)l.set(c,i(f,a));return e(l)}(t,0)}const Pa=Math.sqrt(50),Ha=Math.sqrt(10),Ra=Math.sqrt(2);function un(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Pa?10:o>=Ha?5:o>=Ra?2:1;let l,u,s;return i<0?(s=Math.pow(10,-i)/a,l=Math.round(t*s),u=Math.round(e*s),l/s<t&&++l,u/s>e&&--u,s=-s):(s=Math.pow(10,i)*a,l=Math.round(t/s),u=Math.round(e/s),l*s<t&&++l,u*s>e&&--u),u<l&&.5<=n&&n<2?un(t,e,n*2):[l,u,s]}function Oa(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?un(e,t,n):un(t,e,n);if(!(o>=i))return[];const l=o-i+1,u=new Array(l);if(r)if(a<0)for(let s=0;s<l;++s)u[s]=(o-s)/-a;else for(let s=0;s<l;++s)u[s]=(o-s)*a;else if(a<0)for(let s=0;s<l;++s)u[s]=(i+s)/-a;else for(let s=0;s<l;++s)u[s]=(i+s)*a;return u}function Qn(t,e,n){return e=+e,t=+t,n=+n,un(t,e,n)[2]}function Jn(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Qn(e,t,n):Qn(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function uo(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Ia(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function kr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Vr=Symbol("implicit");function so(){var t=new Kn,e=[],n=[],r=Vr;function i(o){let a=t.get(o);if(a===void 0){if(r!==Vr)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Kn;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return so(e,n).unknown(r)},kr.apply(i,arguments),i}function xr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ze(){}var Pe=.7,sn=1/Pe,_e="\\s*([+-]?\\d+)\\s*",He="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",za=/^#([0-9a-f]{3,8})$/,Wa=new RegExp(`^rgb\\(${_e},${_e},${_e}\\)$`),$a=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),Va=new RegExp(`^rgba\\(${_e},${_e},${_e},${He}\\)$`),Xa=new RegExp(`^rgba\\(${At},${At},${At},${He}\\)$`),qa=new RegExp(`^hsl\\(${He},${At},${At}\\)$`),Ba=new RegExp(`^hsla\\(${He},${At},${At},${He}\\)$`),Xr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xr(ze,te,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qr,formatHex:qr,formatHex8:Ga,formatHsl:Za,formatRgb:Br,toString:Br});function qr(){return this.rgb().formatHex()}function Ga(){return this.rgb().formatHex8()}function Za(){return co(this).formatHsl()}function Br(){return this.rgb().formatRgb()}function te(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=za.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Gr(e):n===3?new dt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Wa.exec(t))?new dt(e[1],e[2],e[3],1):(e=$a.exec(t))?new dt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Va.exec(t))?qe(e[1],e[2],e[3],e[4]):(e=Xa.exec(t))?qe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qa.exec(t))?Qr(e[1],e[2]/100,e[3]/100,1):(e=Ba.exec(t))?Qr(e[1],e[2]/100,e[3]/100,e[4]):Xr.hasOwnProperty(t)?Gr(Xr[t]):t==="transparent"?new dt(NaN,NaN,NaN,0):null}function Gr(t){return new dt(t>>16&255,t>>8&255,t&255,1)}function qe(t,e,n,r){return r<=0&&(t=e=n=NaN),new dt(t,e,n,r)}function Ka(t){return t instanceof ze||(t=te(t)),t?(t=t.rgb(),new dt(t.r,t.g,t.b,t.opacity)):new dt}function jn(t,e,n,r){return arguments.length===1?Ka(t):new dt(t,e,n,r??1)}function dt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xr(dt,jn,fo(ze,{brighter(t){return t=t==null?sn:Math.pow(sn,t),new dt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Pe:Math.pow(Pe,t),new dt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new dt(Jt(this.r),Jt(this.g),Jt(this.b),fn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zr,formatHex:Zr,formatHex8:Qa,formatRgb:Kr,toString:Kr}));function Zr(){return`#${Kt(this.r)}${Kt(this.g)}${Kt(this.b)}`}function Qa(){return`#${Kt(this.r)}${Kt(this.g)}${Kt(this.b)}${Kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kr(){const t=fn(this.opacity);return`${t===1?"rgb(":"rgba("}${Jt(this.r)}, ${Jt(this.g)}, ${Jt(this.b)}${t===1?")":`, ${t})`}`}function fn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kt(t){return t=Jt(t),(t<16?"0":"")+t.toString(16)}function Qr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dt(t,e,n,r)}function co(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof ze||(t=te(t)),!t)return new Dt;if(t instanceof Dt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,u=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=u<.5?o+i:2-o-i,a*=60):l=u>0&&u<1?0:a,new Dt(a,l,u,t.opacity)}function Ja(t,e,n,r){return arguments.length===1?co(t):new Dt(t,e,n,r??1)}function Dt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xr(Dt,Ja,fo(ze,{brighter(t){return t=t==null?sn:Math.pow(sn,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Pe:Math.pow(Pe,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new dt(Fn(t>=240?t-240:t+120,i,r),Fn(t,i,r),Fn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Dt(Jr(this.h),Be(this.s),Be(this.l),fn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fn(this.opacity);return`${t===1?"hsl(":"hsla("}${Jr(this.h)}, ${Be(this.s)*100}%, ${Be(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Jr(t){return t=(t||0)%360,t<0?t+360:t}function Be(t){return Math.max(0,Math.min(1,t||0))}function Fn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Mr=t=>()=>t;function ja(t,e){return function(n){return t+n*e}}function tl(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function el(t){return(t=+t)==1?ho:function(e,n){return n-e?tl(e,n,t):Mr(isNaN(e)?n:e)}}function ho(t,e){var n=e-t;return n?ja(t,n):Mr(isNaN(t)?e:t)}const cn=function t(e){var n=el(e);function r(i,o){var a=n((i=jn(i)).r,(o=jn(o)).r),l=n(i.g,o.g),u=n(i.b,o.b),s=ho(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=l(c),i.b=u(c),i.opacity=s(c),i+""}}return r.gamma=t,r}(1);function nl(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function rl(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function il(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Dn(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function ol(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function xt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function al(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Dn(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var tr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Un=new RegExp(tr.source,"g");function ll(t){return function(){return t}}function ul(t){return function(e){return t(e)+""}}function go(t,e){var n=tr.lastIndex=Un.lastIndex=0,r,i,o,a=-1,l=[],u=[];for(t=t+"",e=e+"";(r=tr.exec(t))&&(i=Un.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,u.push({i:a,x:xt(r,i)})),n=Un.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?u[0]?ul(u[0].x):ll(e):(e=u.length,function(s){for(var c=0,f;c<e;++c)l[(f=u[c]).i]=f.x(s);return l.join("")})}function Dn(t,e){var n=typeof e,r;return e==null||n==="boolean"?Mr(e):(n==="number"?xt:n==="string"?(r=te(e))?(e=r,cn):go:e instanceof te?cn:e instanceof Date?ol:rl(e)?nl:Array.isArray(e)?il:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?al:xt)(t,e)}function sl(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var jr=180/Math.PI,er={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mo(t,e,n,r,i,o){var a,l,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*jr,skewX:Math.atan(u)*jr,scaleX:a,scaleY:l}}var Ge;function fl(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?er:mo(e.a,e.b,e.c,e.d,e.e,e.f)}function cl(t){return t==null||(Ge||(Ge=document.createElementNS("http://www.w3.org/2000/svg","g")),Ge.setAttribute("transform",t),!(t=Ge.transform.baseVal.consolidate()))?er:(t=t.matrix,mo(t.a,t.b,t.c,t.d,t.e,t.f))}function po(t,e,n,r){function i(s){return s.length?s.pop()+" ":""}function o(s,c,f,h,d,g){if(s!==f||c!==h){var x=d.push("translate(",null,e,null,n);g.push({i:x-4,x:xt(s,f)},{i:x-2,x:xt(c,h)})}else(f||h)&&d.push("translate("+f+e+h+n)}function a(s,c,f,h){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:xt(s,c)})):c&&f.push(i(f)+"rotate("+c+r)}function l(s,c,f,h){s!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:xt(s,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(s,c,f,h,d,g){if(s!==f||c!==h){var x=d.push(i(d)+"scale(",null,",",null,")");g.push({i:x-4,x:xt(s,f)},{i:x-2,x:xt(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(s,c){var f=[],h=[];return s=t(s),c=t(c),o(s.translateX,s.translateY,c.translateX,c.translateY,f,h),a(s.rotate,c.rotate,f,h),l(s.skewX,c.skewX,f,h),u(s.scaleX,s.scaleY,c.scaleX,c.scaleY,f,h),s=c=null,function(d){for(var g=-1,x=h.length,p;++g<x;)f[(p=h[g]).i]=p.x(d);return f.join("")}}}var hl=po(fl,"px, ","px)","deg)"),gl=po(cl,", ",")",")");function dl(t){return function(){return t}}function ml(t){return+t}var ti=[0,1];function ce(t){return t}function nr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:dl(isNaN(e)?NaN:.5)}function pl(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _l(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=nr(i,r),o=n(a,o)):(r=nr(r,i),o=n(o,a)),function(l){return o(r(l))}}function yl(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=nr(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(l){var u=Ca(t,l,1,r)-1;return o[u](i[u](l))}}function _o(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wl(){var t=ti,e=ti,n=Dn,r,i,o,a=ce,l,u,s;function c(){var h=Math.min(t.length,e.length);return a!==ce&&(a=pl(t[0],t[h-1])),l=h>2?yl:_l,u=s=null,f}function f(h){return h==null||isNaN(h=+h)?o:(u||(u=l(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((s||(s=l(e,t.map(r),xt)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,ml),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=sl,c()},f.clamp=function(h){return arguments.length?(a=h?!0:ce,c()):a!==ce},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,d){return r=h,i=d,c()}}function yo(){return wl()(ce,ce)}function vl(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function we(t){return t=hn(Math.abs(t)),t?t[1]:NaN}function bl(t,e){return function(n,r){for(var i=n.length,o=[],a=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(e)}}function kl(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var xl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gn(t){if(!(e=xl.exec(t)))throw new Error("invalid format: "+t);var e;return new Dr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gn.prototype=Dr.prototype;function Dr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Dr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ml(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var wo;function Dl(t,e){var n=hn(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(wo=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+hn(t,Math.max(0,e+o-1))[0]}function ei(t,e){var n=hn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ni={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:vl,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ei(t*100,e),r:ei,s:Dl,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ri(t){return t}var ii=Array.prototype.map,oi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Tl(t){var e=t.grouping===void 0||t.thousands===void 0?ri:bl(ii.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ri:kl(ii.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function s(f){f=gn(f);var h=f.fill,d=f.align,g=f.sign,x=f.symbol,p=f.zero,_=f.width,M=f.comma,w=f.precision,y=f.trim,b=f.type;b==="n"?(M=!0,b="g"):ni[b]||(w===void 0&&(w=12),y=!0,b="g"),(p||h==="0"&&d==="=")&&(p=!0,h="0",d="=");var k=x==="$"?n:x==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",S=x==="$"?r:/[%p]/.test(b)?a:"",C=ni[b],U=/[defgprs%]/.test(b);w=w===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(E){var q=k,L=S,V,F,m;if(b==="c")L=C(E)+L,E="";else{E=+E;var T=E<0||1/E<0;if(E=isNaN(E)?u:C(Math.abs(E),w),y&&(E=Ml(E)),T&&+E==0&&g!=="+"&&(T=!1),q=(T?g==="("?g:l:g==="-"||g==="("?"":g)+q,L=(b==="s"?oi[8+wo/3]:"")+L+(T&&g==="("?")":""),U){for(V=-1,F=E.length;++V<F;)if(m=E.charCodeAt(V),48>m||m>57){L=(m===46?i+E.slice(V+1):E.slice(V))+L,E=E.slice(0,V);break}}}M&&!p&&(E=e(E,1/0));var z=q.length+E.length+L.length,O=z<_?new Array(_-z+1).join(h):"";switch(M&&p&&(E=e(O+E,O.length?_-L.length:1/0),O=""),d){case"<":E=q+E+L+O;break;case"=":E=q+O+E+L;break;case"^":E=O.slice(0,z=O.length>>1)+q+E+L+O.slice(z);break;default:E=O+q+E+L;break}return o(E)}return A.toString=function(){return f+""},A}function c(f,h){var d=s((f=gn(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(we(h)/3)))*3,x=Math.pow(10,-g),p=oi[8+g/3];return function(_){return d(x*_)+p}}return{format:s,formatPrefix:c}}var Ze,vo,bo;Sl({thousands:",",grouping:[3],currency:["$",""]});function Sl(t){return Ze=Tl(t),vo=Ze.format,bo=Ze.formatPrefix,Ze}function Cl(t){return Math.max(0,-we(Math.abs(t)))}function Al(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(we(e)/3)))*3-we(Math.abs(t)))}function Nl(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,we(e)-we(t))+1}function El(t,e,n,r){var i=Jn(t,e,n),o;switch(r=gn(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Al(i,a))&&(r.precision=o),bo(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Nl(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Cl(i))&&(r.precision=o-(r.type==="%")*2);break}}return vo(r)}function Fl(t){var e=t.domain;return t.ticks=function(n){var r=e();return Oa(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return El(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],l=r[o],u,s,c=10;for(l<a&&(s=a,a=l,l=s,s=i,i=o,o=s);c-- >0;){if(s=Qn(a,l,n),s===u)return r[i]=a,r[o]=l,e(r);if(s>0)a=Math.floor(a/s)*s,l=Math.ceil(l/s)*s;else if(s<0)a=Math.ceil(a*s)/s,l=Math.floor(l*s)/s;else break;u=s}return t},t}function Tr(){var t=yo();return t.copy=function(){return _o(t,Tr())},kr.apply(t,arguments),Fl(t)}function Ul(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}const Ln=new Date,Yn=new Date;function at(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),l=i.ceil(o);return o-a<l-o?a:l},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,l)=>{const u=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<a)||!(l>0))return u;let s;do u.push(s=new Date(+o)),e(o,l),t(o);while(s<o&&o<a);return u},i.filter=o=>at(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!o(a););else for(;--l>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Ln.setTime(+o),Yn.setTime(+a),t(Ln),t(Yn),Math.floor(n(Ln,Yn))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const dn=at(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dn.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?at(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):dn);dn.range;const Ht=1e3,bt=Ht*60,Rt=bt*60,It=Rt*24,Sr=It*7,ai=It*30,Pn=It*365,he=at(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ht)},(t,e)=>(e-t)/Ht,t=>t.getUTCSeconds());he.range;const Cr=at(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ht)},(t,e)=>{t.setTime(+t+e*bt)},(t,e)=>(e-t)/bt,t=>t.getMinutes());Cr.range;const Ll=at(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*bt)},(t,e)=>(e-t)/bt,t=>t.getUTCMinutes());Ll.range;const Tn=at(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ht-t.getMinutes()*bt)},(t,e)=>{t.setTime(+t+e*Rt)},(t,e)=>(e-t)/Rt,t=>t.getHours());Tn.range;const Yl=at(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rt)},(t,e)=>(e-t)/Rt,t=>t.getUTCHours());Yl.range;const Gt=at(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bt)/It,t=>t.getDate()-1);Gt.range;const Ar=at(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/It,t=>t.getUTCDate()-1);Ar.range;const Pl=at(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/It,t=>Math.floor(t/It));Pl.range;function ie(t){return at(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*bt)/Sr)}const ve=ie(0),mn=ie(1),Hl=ie(2),Rl=ie(3),be=ie(4),Ol=ie(5),Il=ie(6);ve.range;mn.range;Hl.range;Rl.range;be.range;Ol.range;Il.range;function oe(t){return at(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Sr)}const ko=oe(0),pn=oe(1),zl=oe(2),Wl=oe(3),ke=oe(4),$l=oe(5),Vl=oe(6);ko.range;pn.range;zl.range;Wl.range;ke.range;$l.range;Vl.range;const ye=at(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ye.range;const Xl=at(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Xl.range;const zt=at(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:at(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});zt.range;const ee=at(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ee.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:at(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ee.range;function ql(t,e,n,r,i,o){const a=[[he,1,Ht],[he,5,5*Ht],[he,15,15*Ht],[he,30,30*Ht],[o,1,bt],[o,5,5*bt],[o,15,15*bt],[o,30,30*bt],[i,1,Rt],[i,3,3*Rt],[i,6,6*Rt],[i,12,12*Rt],[r,1,It],[r,2,2*It],[n,1,Sr],[e,1,ai],[e,3,3*ai],[t,1,Pn]];function l(s,c,f){const h=c<s;h&&([s,c]=[c,s]);const d=f&&typeof f.range=="function"?f:u(s,c,f),g=d?d.range(s,+c+1):[];return h?g.reverse():g}function u(s,c,f){const h=Math.abs(c-s)/f,d=br(([,,p])=>p).right(a,h);if(d===a.length)return t.every(Jn(s/Pn,c/Pn,f));if(d===0)return dn.every(Math.max(Jn(s,c,f),1));const[g,x]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return g.every(x)}return[l,u]}const[Bl,Gl]=ql(zt,ye,ve,Gt,Tn,Cr);function Hn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Rn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ce(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Zl(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,s=Ae(i),c=Ne(i),f=Ae(o),h=Ne(o),d=Ae(a),g=Ne(a),x=Ae(l),p=Ne(l),_=Ae(u),M=Ne(u),w={a:T,A:z,b:O,B:P,c:null,d:hi,e:hi,f:yu,g:Cu,G:Nu,H:mu,I:pu,j:_u,L:xo,m:wu,M:vu,p:X,q:Z,Q:mi,s:pi,S:bu,u:ku,U:xu,V:Mu,w:Du,W:Tu,x:null,X:null,y:Su,Y:Au,Z:Eu,"%":di},y={a:Q,A:kt,b:ct,B:yt,c:null,d:gi,e:gi,f:Yu,g:Xu,G:Bu,H:Fu,I:Uu,j:Lu,L:Do,m:Pu,M:Hu,p:nt,q:Ft,Q:mi,s:pi,S:Ru,u:Ou,U:Iu,V:zu,w:Wu,W:$u,x:null,X:null,y:Vu,Y:qu,Z:Gu,"%":di},b={a:A,A:E,b:q,B:L,c:V,d:fi,e:fi,f:cu,g:si,G:ui,H:ci,I:ci,j:lu,L:fu,m:au,M:uu,p:U,q:ou,Q:gu,s:du,S:su,u:tu,U:eu,V:nu,w:jl,W:ru,x:F,X:m,y:si,Y:ui,Z:iu,"%":hu};w.x=k(n,w),w.X=k(r,w),w.c=k(e,w),y.x=k(n,y),y.X=k(r,y),y.c=k(e,y);function k(N,R){return function($){var D=[],tt=-1,K=0,ht=N.length,gt,Y,rt;for($ instanceof Date||($=new Date(+$));++tt<ht;)N.charCodeAt(tt)===37&&(D.push(N.slice(K,tt)),(Y=li[gt=N.charAt(++tt)])!=null?gt=N.charAt(++tt):Y=gt==="e"?" ":"0",(rt=R[gt])&&(gt=rt($,Y)),D.push(gt),K=tt+1);return D.push(N.slice(K,tt)),D.join("")}}function S(N,R){return function($){var D=Ce(1900,void 0,1),tt=C(D,N,$+="",0),K,ht;if(tt!=$.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(R&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(K=Rn(Ce(D.y,0,1)),ht=K.getUTCDay(),K=ht>4||ht===0?pn.ceil(K):pn(K),K=Ar.offset(K,(D.V-1)*7),D.y=K.getUTCFullYear(),D.m=K.getUTCMonth(),D.d=K.getUTCDate()+(D.w+6)%7):(K=Hn(Ce(D.y,0,1)),ht=K.getDay(),K=ht>4||ht===0?mn.ceil(K):mn(K),K=Gt.offset(K,(D.V-1)*7),D.y=K.getFullYear(),D.m=K.getMonth(),D.d=K.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),ht="Z"in D?Rn(Ce(D.y,0,1)).getUTCDay():Hn(Ce(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(ht+5)%7:D.w+D.U*7-(ht+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Rn(D)):Hn(D)}}function C(N,R,$,D){for(var tt=0,K=R.length,ht=$.length,gt,Y;tt<K;){if(D>=ht)return-1;if(gt=R.charCodeAt(tt++),gt===37){if(gt=R.charAt(tt++),Y=b[gt in li?R.charAt(tt++):gt],!Y||(D=Y(N,$,D))<0)return-1}else if(gt!=$.charCodeAt(D++))return-1}return D}function U(N,R,$){var D=s.exec(R.slice($));return D?(N.p=c.get(D[0].toLowerCase()),$+D[0].length):-1}function A(N,R,$){var D=d.exec(R.slice($));return D?(N.w=g.get(D[0].toLowerCase()),$+D[0].length):-1}function E(N,R,$){var D=f.exec(R.slice($));return D?(N.w=h.get(D[0].toLowerCase()),$+D[0].length):-1}function q(N,R,$){var D=_.exec(R.slice($));return D?(N.m=M.get(D[0].toLowerCase()),$+D[0].length):-1}function L(N,R,$){var D=x.exec(R.slice($));return D?(N.m=p.get(D[0].toLowerCase()),$+D[0].length):-1}function V(N,R,$){return C(N,e,R,$)}function F(N,R,$){return C(N,n,R,$)}function m(N,R,$){return C(N,r,R,$)}function T(N){return a[N.getDay()]}function z(N){return o[N.getDay()]}function O(N){return u[N.getMonth()]}function P(N){return l[N.getMonth()]}function X(N){return i[+(N.getHours()>=12)]}function Z(N){return 1+~~(N.getMonth()/3)}function Q(N){return a[N.getUTCDay()]}function kt(N){return o[N.getUTCDay()]}function ct(N){return u[N.getUTCMonth()]}function yt(N){return l[N.getUTCMonth()]}function nt(N){return i[+(N.getUTCHours()>=12)]}function Ft(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var R=k(N+="",w);return R.toString=function(){return N},R},parse:function(N){var R=S(N+="",!1);return R.toString=function(){return N},R},utcFormat:function(N){var R=k(N+="",y);return R.toString=function(){return N},R},utcParse:function(N){var R=S(N+="",!0);return R.toString=function(){return N},R}}}var li={"-":"",_:" ",0:"0"},lt=/^\s*\d+/,Kl=/^%/,Ql=/[\\^$*+?|[\]().{}]/g;function G(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Jl(t){return t.replace(Ql,"\\$&")}function Ae(t){return new RegExp("^(?:"+t.map(Jl).join("|")+")","i")}function Ne(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function jl(t,e,n){var r=lt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tu(t,e,n){var r=lt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function eu(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function nu(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ru(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ui(t,e,n){var r=lt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function si(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function iu(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ou(t,e,n){var r=lt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function au(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function fi(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function lu(t,e,n){var r=lt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ci(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function uu(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function su(t,e,n){var r=lt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function fu(t,e,n){var r=lt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function cu(t,e,n){var r=lt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hu(t,e,n){var r=Kl.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gu(t,e,n){var r=lt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function du(t,e,n){var r=lt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function hi(t,e){return G(t.getDate(),e,2)}function mu(t,e){return G(t.getHours(),e,2)}function pu(t,e){return G(t.getHours()%12||12,e,2)}function _u(t,e){return G(1+Gt.count(zt(t),t),e,3)}function xo(t,e){return G(t.getMilliseconds(),e,3)}function yu(t,e){return xo(t,e)+"000"}function wu(t,e){return G(t.getMonth()+1,e,2)}function vu(t,e){return G(t.getMinutes(),e,2)}function bu(t,e){return G(t.getSeconds(),e,2)}function ku(t){var e=t.getDay();return e===0?7:e}function xu(t,e){return G(ve.count(zt(t)-1,t),e,2)}function Mo(t){var e=t.getDay();return e>=4||e===0?be(t):be.ceil(t)}function Mu(t,e){return t=Mo(t),G(be.count(zt(t),t)+(zt(t).getDay()===4),e,2)}function Du(t){return t.getDay()}function Tu(t,e){return G(mn.count(zt(t)-1,t),e,2)}function Su(t,e){return G(t.getFullYear()%100,e,2)}function Cu(t,e){return t=Mo(t),G(t.getFullYear()%100,e,2)}function Au(t,e){return G(t.getFullYear()%1e4,e,4)}function Nu(t,e){var n=t.getDay();return t=n>=4||n===0?be(t):be.ceil(t),G(t.getFullYear()%1e4,e,4)}function Eu(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+G(e/60|0,"0",2)+G(e%60,"0",2)}function gi(t,e){return G(t.getUTCDate(),e,2)}function Fu(t,e){return G(t.getUTCHours(),e,2)}function Uu(t,e){return G(t.getUTCHours()%12||12,e,2)}function Lu(t,e){return G(1+Ar.count(ee(t),t),e,3)}function Do(t,e){return G(t.getUTCMilliseconds(),e,3)}function Yu(t,e){return Do(t,e)+"000"}function Pu(t,e){return G(t.getUTCMonth()+1,e,2)}function Hu(t,e){return G(t.getUTCMinutes(),e,2)}function Ru(t,e){return G(t.getUTCSeconds(),e,2)}function Ou(t){var e=t.getUTCDay();return e===0?7:e}function Iu(t,e){return G(ko.count(ee(t)-1,t),e,2)}function To(t){var e=t.getUTCDay();return e>=4||e===0?ke(t):ke.ceil(t)}function zu(t,e){return t=To(t),G(ke.count(ee(t),t)+(ee(t).getUTCDay()===4),e,2)}function Wu(t){return t.getUTCDay()}function $u(t,e){return G(pn.count(ee(t)-1,t),e,2)}function Vu(t,e){return G(t.getUTCFullYear()%100,e,2)}function Xu(t,e){return t=To(t),G(t.getUTCFullYear()%100,e,2)}function qu(t,e){return G(t.getUTCFullYear()%1e4,e,4)}function Bu(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ke(t):ke.ceil(t),G(t.getUTCFullYear()%1e4,e,4)}function Gu(){return"+0000"}function di(){return"%"}function mi(t){return+t}function pi(t){return Math.floor(+t/1e3)}var le,Nr;Zu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Zu(t){return le=Zl(t),Nr=le.format,le.parse,le.utcFormat,le.utcParse,le}function Ku(t){return new Date(t)}function Qu(t){return t instanceof Date?+t:+new Date(+t)}function So(t,e,n,r,i,o,a,l,u,s){var c=yo(),f=c.invert,h=c.domain,d=s(".%L"),g=s(":%S"),x=s("%I:%M"),p=s("%I %p"),_=s("%a %d"),M=s("%b %d"),w=s("%B"),y=s("%Y");function b(k){return(u(k)<k?d:l(k)<k?g:a(k)<k?x:o(k)<k?p:r(k)<k?i(k)<k?_:M:n(k)<k?w:y)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?h(Array.from(k,Qu)):h().map(Ku)},c.ticks=function(k){var S=h();return t(S[0],S[S.length-1],k??10)},c.tickFormat=function(k,S){return S==null?b:s(S)},c.nice=function(k){var S=h();return(!k||typeof k.range!="function")&&(k=e(S[0],S[S.length-1],k??10)),k?h(Ul(S,k)):c},c.copy=function(){return _o(c,So(t,e,n,r,i,o,a,l,u,s))},c}function Er(){return kr.apply(So(Bl,Gl,zt,ye,ve,Gt,Tn,Cr,he,Nr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function it(t){return function(){return t}}const rr=Math.PI,ir=2*rr,Zt=1e-6,Ju=ir-Zt;function Co(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ju(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Co;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ts{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Co:ju(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,u=r-e,s=i-n,c=a-e,f=l-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Zt)if(!(Math.abs(f*u-s*c)>Zt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-a,g=i-l,x=u*u+s*s,p=d*d+g*g,_=Math.sqrt(x),M=Math.sqrt(h),w=o*Math.tan((rr-Math.acos((x+h-p)/(2*_*M)))/2),y=w/M,b=w/_;Math.abs(y-1)>Zt&&this._append`L${e+y*c},${n+y*f}`,this._append`A${o},${o},0,0,${+(f*d>c*g)},${this._x1=e+b*u},${this._y1=n+b*s}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),s=e+l,c=n+u,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${s},${c}`:(Math.abs(this._x1-s)>Zt||Math.abs(this._y1-c)>Zt)&&this._append`L${s},${c}`,r&&(h<0&&(h=h%ir+ir),h>Ju?this._append`A${r},${r},0,1,${f},${e-l},${n-u}A${r},${r},0,1,${f},${this._x1=s},${this._y1=c}`:h>Zt&&this._append`A${r},${r},0,${+(h>=rr)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ao(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ts(e)}function Fr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function No(t){this._context=t}No.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Eo(t){return new No(t)}function Fo(t){return t[0]}function Uo(t){return t[1]}function Lo(t,e){var n=it(!0),r=null,i=Eo,o=null,a=Ao(l);t=typeof t=="function"?t:t===void 0?Fo:it(t),e=typeof e=="function"?e:e===void 0?Uo:it(e);function l(u){var s,c=(u=Fr(u)).length,f,h=!1,d;for(r==null&&(o=i(d=a())),s=0;s<=c;++s)!(s<c&&n(f=u[s],s,u))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,s,u),+e(f,s,u));if(d)return o=null,d+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:it(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:it(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:it(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),l):r},l}function es(t,e,n){var r=null,i=it(!0),o=null,a=Eo,l=null,u=Ao(s);t=typeof t=="function"?t:t===void 0?Fo:it(+t),e=typeof e=="function"?e:it(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Uo:it(+n);function s(f){var h,d,g,x=(f=Fr(f)).length,p,_=!1,M,w=new Array(x),y=new Array(x);for(o==null&&(l=a(M=u())),h=0;h<=x;++h){if(!(h<x&&i(p=f[h],h,f))===_)if(_=!_)d=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=d;--g)l.point(w[g],y[g]);l.lineEnd(),l.areaEnd()}_&&(w[h]=+t(p,h,f),y[h]=+e(p,h,f),l.point(r?+r(p,h,f):w[h],n?+n(p,h,f):y[h]))}if(M)return l=null,M+""||null}function c(){return Lo().defined(i).curve(a).context(o)}return s.x=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),r=null,s):t},s.x0=function(f){return arguments.length?(t=typeof f=="function"?f:it(+f),s):t},s.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:it(+f),s):r},s.y=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),n=null,s):e},s.y0=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),s):e},s.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:it(+f),s):n},s.lineX0=s.lineY0=function(){return c().x(t).y(e)},s.lineY1=function(){return c().x(t).y(n)},s.lineX1=function(){return c().x(r).y(e)},s.defined=function(f){return arguments.length?(i=typeof f=="function"?f:it(!!f),s):i},s.curve=function(f){return arguments.length?(a=f,o!=null&&(l=a(o)),s):a},s.context=function(f){return arguments.length?(f==null?o=l=null:l=a(o=f),s):o},s}function _i(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,l=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function yi(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ns(t,e){return t[e]}function rs(t){const e=[];return e.key=t,e}function is(){var t=it([]),e=yi,n=_i,r=ns;function i(o){var a=Array.from(t.apply(this,arguments),rs),l,u=a.length,s=-1,c;for(const f of o)for(l=0,++s;l<u;++l)(a[l][s]=[0,+r(f,a[l].key,s,o)]).data=f;for(l=0,c=Fr(e(a));l<u;++l)a[c[l]].index=l;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:it(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:it(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?yi:typeof o=="function"?o:it(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??_i,i):n},i}function wi(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function vi(t){let e,n,r,i,o,a;function l(c,f){if(c[2]==="hourly"||c[2]==="daily"||c[2]==="weekly")return as;if(c[2]==="monthly")return os}let u=l(t),s=u&&u(t);return{c(){e=ot("line"),o=ut(),s&&s.c(),a=Ie(),v(e,"x1",n=t[1](new Date(t[8]))),v(e,"x2",r=t[1](new Date(t[8]))),v(e,"y1",t[0]),v(e,"y2",i=t[0]+xe),v(e,"stroke","#808080")},m(c,f){W(c,e,f),W(c,o,f),s&&s.m(c,f),W(c,a,f)},p(c,f){f&10&&n!==(n=c[1](new Date(c[8])))&&v(e,"x1",n),f&10&&r!==(r=c[1](new Date(c[8])))&&v(e,"x2",r),f&1&&v(e,"y1",c[0]),f&1&&i!==(i=c[0]+xe)&&v(e,"y2",i),u===(u=l(c))&&s?s.p(c,f):(s&&s.d(1),s=u&&u(c),s&&(s.c(),s.m(a.parentNode,a)))},d(c){c&&(I(e),I(o),I(a)),s&&s.d(c)}}}function os(t){let e,n=_n(t[8],"month")+"",r,i,o;return{c(){e=ot("text"),r=pt(n),v(e,"x",i=t[1](new Date(t[8]))),v(e,"y",o=t[0]+xe),v(e,"dy","6"),v(e,"dominant-baseline","hanging"),v(e,"text-anchor","middle"),v(e,"class","svelte-e1340v")},m(a,l){W(a,e,l),H(e,r)},p(a,l){l&8&&n!==(n=_n(a[8],"month")+"")&&Nt(r,n),l&10&&i!==(i=a[1](new Date(a[8])))&&v(e,"x",i),l&1&&o!==(o=a[0]+xe)&&v(e,"y",o)},d(a){a&&I(e)}}}function as(t){let e,n=_n(t[8],"day")+"",r,i,o;return{c(){e=ot("text"),r=pt(n),v(e,"x",i=t[1](new Date(t[8]))),v(e,"y",o=t[0]+xe),v(e,"dy","6"),v(e,"dominant-baseline","hanging"),v(e,"text-anchor","middle"),v(e,"class","svelte-e1340v")},m(a,l){W(a,e,l),H(e,r)},p(a,l){l&8&&n!==(n=_n(a[8],"day")+"")&&Nt(r,n),l&10&&i!==(i=a[1](new Date(a[8])))&&v(e,"x",i),l&1&&o!==(o=a[0]+xe)&&v(e,"y",o)},d(a){a&&I(e)}}}function bi(t){let e,n=t[8]&&vi(t);return{c(){n&&n.c(),e=Ie()},m(r,i){n&&n.m(r,i),W(r,e,i)},p(r,i){r[8]?n?n.p(r,i):(n=vi(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&I(e),n&&n.d(r)}}}function ls(t){let e,n=mt(t[3]),r=[];for(let i=0;i<n.length;i+=1)r[i]=bi(wi(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ie()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);W(i,e,o)},p(i,[o]){if(o&15){n=mt(i[3]);let a;for(a=0;a<n.length;a+=1){const l=wi(i,n,a);r[a]?r[a].p(l,o):(r[a]=bi(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:J,o:J,d(i){i&&I(e),re(r,i)}}}const xe=4;function _n(t,e){const n=new Date(t);if(e==="day"){const r=n.getDate(),i=n.toLocaleDateString("en-US",{month:"short"});return`${r} ${i}`}else if(e==="month"){const r=n.toLocaleDateString("en-US",{month:"short"}),i=n.getFullYear().toString().substr(-2);return`${r} ${i}`}return t}function us(t,e,n){let r,{height:i}=e,{xScale:o}=e,{interval:a}=e,{width:l=0}=e,{customTicks:u=null}=e;const s=l<300?80:50;function c(f,h,d){if(!d||d<=0)return[];const g=f.domain(),x=f.range(),p=x[1]-x[0],_=Math.max(2,Math.floor(p/s)),w=(g[1]-g[0])/(1e3*60*60*24);if(h==="hourly")return w<=2?Tn.every(Math.max(1,Math.floor(12/_))).range(g[0],g[1]):w<=7?Gt.every(1).range(g[0],g[1]):Gt.every(Math.max(1,Math.floor(w/_))).range(g[0],g[1]);if(h==="daily")if(w<=4){const y=[];let b=new Date(g[0]);for(b.setHours(0,0,0,0);b<=g[1];)y.push(new Date(b)),b.setDate(b.getDate()+1);return y}else if(w<=30){const y=Math.max(1,Math.floor(w/_)),b=Gt.every(y).range(g[0],g[1]),k=b[b.length-1],S=(g[1]-k)/(1e3*60*60);if(S>12&&S<24){const C=new Date(k);C.setDate(C.getDate()+1),b.push(C)}return b}else return w<=90?ve.every(Math.max(1,Math.floor(w/7/_))).range(g[0],g[1]):ye.every(Math.max(1,Math.floor(w/30/_))).range(g[0],g[1]);else if(h==="weekly"){const y=Math.ceil(w/7);if(y<=4){const b=[];let k=new Date(g[0]);const S=k.getDay();for(k.setDate(k.getDate()-S+(S===0?-6:1));k<=g[1];)b.push(new Date(k)),k.setDate(k.getDate()+7);const C=(g[1]-b[b.length-1])/(1e3*60*60*24);if(C>3.5&&C<7){const U=new Date(b[b.length-1]);U.setDate(U.getDate()+7),b.push(U)}return b}else if(w<=120){const b=Math.max(1,Math.floor(y/_)),k=ve.every(b).range(g[0],g[1]);if(k.length>0){const S=k[k.length-1],C=(g[1]-S)/(1e3*60*60*24);if(C>3.5&&C<7){const U=new Date(S);U.setDate(U.getDate()+7),k.push(U)}}return k}else return ye.every(Math.max(1,Math.floor(w/30/_))).range(g[0],g[1])}else if(h==="monthly"){const y=(g[1].getFullYear()-g[0].getFullYear())*12+(g[1].getMonth()-g[0].getMonth());if(y<=4){const b=[];let k=new Date(g[0]);for(k.setDate(1);k<=g[1];)b.push(new Date(k)),k.setMonth(k.getMonth()+1);const S=new Date(g[1]);return S.setDate(1),(b.length===0||b[b.length-1].getMonth()!==S.getMonth()||b[b.length-1].getFullYear()!==S.getFullYear())&&b.push(S),b}else{const b=Math.max(1,Math.floor(y/_)),k=ye.every(b).range(g[0],g[1]),S=new Date(g[1]);return S.setDate(1),!k.some(U=>U.getMonth()===S.getMonth()&&U.getFullYear()===S.getFullYear())&&g[1].getDate()>1&&k.push(S),k}}return f.ticks(_)}return t.$$set=f=>{"height"in f&&n(0,i=f.height),"xScale"in f&&n(1,o=f.xScale),"interval"in f&&n(2,a=f.interval),"width"in f&&n(4,l=f.width),"customTicks"in f&&n(5,u=f.customTicks)},t.$$.update=()=>{t.$$.dirty&54&&n(3,r=u||c(o,a,l)),t.$$.dirty&28&&r&&r.length>0&&console.log(`Generated ${r.length} ticks for interval: ${a}, width: ${l}px`)},[i,o,a,r,l,u]}class Yo extends qt{constructor(e){super(),Xt(this,e,us,ls,Vt,{height:0,xScale:1,interval:2,width:4,customTicks:5})}}function ki(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function xi(t){let e,n,r,i=t[4]+"",o,a;return{c(){e=ot("g"),n=ot("line"),r=ot("text"),o=pt(i),v(n,"x1",-or),v(n,"x2",t[0]),v(n,"y1",0),v(n,"y2",0),v(n,"stroke",t[6]===0?"#8f8f8f":"#e5e7eb"),v(r,"x",-or-30),v(r,"dominant-baseline","middle"),v(r,"class","svelte-p3sede"),v(e,"class","tick"),v(e,"transform",a="translate(0, "+t[1](t[4])+")")},m(l,u){W(l,e,u),H(e,n),H(e,r),H(r,o)},p(l,u){u&1&&v(n,"x2",l[0]),u&8&&i!==(i=l[4]+"")&&Nt(o,i),u&10&&a!==(a="translate(0, "+l[1](l[4])+")")&&v(e,"transform",a)},d(l){l&&I(e)}}}function ss(t){let e,n,r,i=mt(t[3]),o=[];for(let a=0;a<i.length;a+=1)o[a]=xi(ki(t,i,a));return{c(){e=ot("g");for(let a=0;a<o.length;a+=1)o[a].c();n=ot("text"),r=pt(t[2]),v(n,"class","axis-title svelte-p3sede"),v(n,"x",-or-30),v(n,"y",-36),v(n,"dy","4"),v(n,"dominant-baseline","hanging"),v(n,"text-anchor","start"),v(e,"class","axis y")},m(a,l){W(a,e,l);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);H(e,n),H(n,r)},p(a,[l]){if(l&11){i=mt(a[3]);let u;for(u=0;u<i.length;u+=1){const s=ki(a,i,u);o[u]?o[u].p(s,l):(o[u]=xi(s),o[u].c(),o[u].m(e,n))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}l&4&&Nt(r,a[2])},i:J,o:J,d(a){a&&I(e),re(o,a)}}}const or=10;function fs(t,e,n){let{width:r}=e,{yScale:i}=e,{title:o}=e,{ticks:a}=e;return t.$$set=l=>{"width"in l&&n(0,r=l.width),"yScale"in l&&n(1,i=l.yScale),"title"in l&&n(2,o=l.title),"ticks"in l&&n(3,a=l.ticks)},[r,i,o,a]}class Po extends qt{constructor(e){super(),Xt(this,e,fs,ss,Vt,{width:0,yScale:1,title:2,ticks:3})}}function Mi(t,e,n){const r=t.slice();return r[5]=e[n].color,r[6]=e[n].text,r}function Di(t){let e,n;return{c(){e=B("h3"),n=pt(t[2]),Ct(e,"margin","5px 20px")},m(r,i){W(r,e,i),H(e,n)},p(r,i){i&4&&Nt(n,r[2])},d(r){r&&I(e)}}}function Ti(t){let e,n,r,i,o=t[6]+"",a,l,u,s;function c(...f){return t[3](t[6],...f)}return{c(){e=B("div"),n=B("div"),r=ut(),i=B("span"),a=pt(o),l=ut(),v(n,"class","color-circle svelte-is9dy7"),Ct(n,"background-color",t[5]),v(e,"class","legend-item svelte-is9dy7"),v(e,"cursor","pointer")},m(f,h){W(f,e,h),H(e,n),H(e,r),H(e,i),H(i,a),H(e,l),u||(s=[jt(e,"click",c),jt(e,"dblclick",t[4])],u=!0)},p(f,h){t=f,h&2&&Ct(n,"background-color",t[5]),h&2&&o!==(o=t[6]+"")&&Nt(a,o)},d(f){f&&I(e),u=!1,$t(s)}}}function cs(t){let e,n,r=t[2]&&Di(t),i=mt(t[1]),o=[];for(let a=0;a<i.length;a+=1)o[a]=Ti(Mi(t,i,a));return{c(){r&&r.c(),e=ut(),n=B("div");for(let a=0;a<o.length;a+=1)o[a].c();v(n,"class","legend-container svelte-is9dy7")},m(a,l){r&&r.m(a,l),W(a,e,l),W(a,n,l);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(n,null)},p(a,[l]){if(a[2]?r?r.p(a,l):(r=Di(a),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),l&3){i=mt(a[1]);let u;for(u=0;u<i.length;u+=1){const s=Mi(a,i,u);o[u]?o[u].p(s,l):(o[u]=Ti(s),o[u].c(),o[u].m(n,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},i:J,o:J,d(a){a&&(I(e),I(n)),r&&r.d(a),re(o,a)}}}function hs(t,e,n){let{legendData:r}=e,{title:i}=e,{clicked:o}=e;const a=(u,s)=>{s.stopImmediatePropagation(),n(0,o=u)},l=u=>{u.stopImmediatePropagation(),n(0,o=null)};return t.$$set=u=>{"legendData"in u&&n(1,r=u.legendData),"title"in u&&n(2,i=u.title),"clicked"in u&&n(0,o=u.clicked)},[o,r,i,a,l]}class Si extends qt{constructor(e){super(),Xt(this,e,hs,cs,Vt,{legendData:1,title:2,clicked:0})}}function Ci(t){let e;return{c(){e=ot("line"),v(e,"x1",t[1]),v(e,"x2",t[1]),v(e,"y1",0),v(e,"y2",t[3]),v(e,"stroke","darkgrey"),v(e,"stroke-dasharray","2, 2"),v(e,"pointer-events","none")},m(n,r){W(n,e,r)},p(n,r){r&2&&v(e,"x1",n[1]),r&2&&v(e,"x2",n[1]),r&8&&v(e,"y2",n[3])},d(n){n&&I(e)}}}function gs(t){let e,n,r,i,o,a=t[0]&&Ci(t);return{c(){e=ot("rect"),n=ut(),a&&a.c(),r=Ie(),v(e,"class","hover-listener svelte-hiaj90"),v(e,"fill","transparent"),v(e,"width",t[2]),v(e,"height",t[3])},m(l,u){W(l,e,u),W(l,n,u),a&&a.m(l,u),W(l,r,u),i||(o=[jt(e,"mousemove",t[4]),jt(e,"mouseleave",t[5])],i=!0)},p(l,[u]){u&4&&v(e,"width",l[2]),u&8&&v(e,"height",l[3]),l[0]?a?a.p(l,u):(a=Ci(l),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i:J,o:J,d(l){l&&(I(e),I(n),I(r)),a&&a.d(l),i=!1,$t(o)}}}function ds(t,e,n){let{xScale:r}=e,{margin:i}=e,{width:o}=e,{height:a}=e,{hoveredDate:l}=e,{xPos:u}=e,{aggregationLevel:s="hourly"}=e;const c=function(h){const d=h.offsetX-i.left,g=r.invert(d);n(0,l=g.getTime()),n(1,u=d)},f=function(){n(0,l=null),n(1,u=0)};return t.$$set=h=>{"xScale"in h&&n(6,r=h.xScale),"margin"in h&&n(7,i=h.margin),"width"in h&&n(2,o=h.width),"height"in h&&n(3,a=h.height),"hoveredDate"in h&&n(0,l=h.hoveredDate),"xPos"in h&&n(1,u=h.xPos),"aggregationLevel"in h&&n(8,s=h.aggregationLevel)},[l,u,o,a,c,f,r,i,s]}class ms extends qt{constructor(e){super(),Xt(this,e,ds,gs,Vt,{xScale:6,margin:7,width:2,height:3,hoveredDate:0,xPos:1,aggregationLevel:8})}}function ps(t){const e=t-1;return e*e*e+1}function ar(t,{delay:e=0,duration:n=400,easing:r=xn}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:o=>`opacity: ${o*i}`}}function _s(t,{delay:e=0,duration:n=400,easing:r=ps,x:i=0,y:o=0,opacity:a=0}={}){const l=getComputedStyle(t),u=+l.opacity,s=l.transform==="none"?"":l.transform,c=u*(1-a),[f,h]=Ir(i),[d,g]=Ir(o);return{delay:e,duration:n,easing:r,css:(x,p)=>`
			transform: ${s} translate(${(1-x)*f}${h}, ${(1-x)*d}${g});
			opacity: ${u-c*p}`}}function Ai(t,e,n){const r=t.slice();return r[9]=e[n],r}function Ni(t){let e,n,r=t[9]+"",i,o,a,l=t[0][t[9]]+"",u,s;return{c(){e=B("div"),n=B("span"),i=pt(r),o=ut(),a=B("span"),u=pt(l),s=ut(),v(n,"class","key svelte-29siub"),Ct(n,"background",t[1](t[9])),v(e,"class","info svelte-29siub")},m(c,f){W(c,e,f),H(e,n),H(n,i),H(e,o),H(e,a),H(a,u),H(e,s)},p(c,f){f&8&&r!==(r=c[9]+"")&&Nt(i,r),f&10&&Ct(n,"background",c[1](c[9])),f&9&&l!==(l=c[0][c[9]]+"")&&Nt(u,l)},d(c){c&&I(e)}}}function ys(t){let e,n,r=t[0].date+"",i,o,a,l,u,s,c=mt(t[3]),f=[];for(let h=0;h<c.length;h+=1)f[h]=Ni(Ai(t,c,h));return{c(){e=B("div"),n=B("h1"),i=pt(r),o=ut();for(let h=0;h<f.length;h+=1)f[h].c();v(n,"class","svelte-29siub"),v(e,"class","tooltip svelte-29siub"),Ct(e,"left",t[4]+"px"),Ct(e,"top",t[5]+"px"),Ot(()=>t[8].call(e))},m(h,d){W(h,e,d),H(e,n),H(n,i),H(e,o);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(e,null);a=fa(e,t[8].bind(e)),s=!0},p(h,[d]){if((!s||d&1)&&r!==(r=h[0].date+"")&&Nt(i,r),d&11){c=mt(h[3]);let g;for(g=0;g<c.length;g+=1){const x=Ai(h,c,g);f[g]?f[g].p(x,d):(f[g]=Ni(x),f[g].c(),f[g].m(e,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=c.length}(!s||d&16)&&Ct(e,"left",h[4]+"px")},i(h){s||(h&&Ot(()=>{s&&(u&&u.end(1),l=wa(e,_s,{y:10,duration:200,delay:200}),l.start())}),s=!0)},o(h){l&&l.invalidate(),h&&(u=va(e,ar,{})),s=!1},d(h){h&&I(e),re(f,h),a(),h&&u&&u.end()}}}const On=5,ws=5;function vs(t,e,n){let r,{width:i}=e,{data:o}=e,{colorScale:a}=e,{x:l}=e,u,s,c=ws;function f(){u=this.clientWidth,n(2,u)}return t.$$set=h=>{"width"in h&&n(6,i=h.width),"data"in h&&n(0,o=h.data),"colorScale"in h&&n(1,a=h.colorScale),"x"in h&&n(7,l=h.x)},t.$$.update=()=>{if(t.$$.dirty&196&&n(4,r=l+u+On>i?l-u-On:l+On),t.$$.dirty&1&&o){let h=Object.entries(o);h.sort((g,x)=>x[1]-g[1]);let d=Object.fromEntries(h);n(3,s=Object.keys(d).filter(g=>g!=="date"&&g!=="region"))}},[o,a,u,s,r,c,i,l,f]}class bs extends qt{constructor(e){super(),Xt(this,e,vs,ys,Vt,{width:6,data:0,colorScale:1,x:7})}}const ks=["hydropower","geothermal","bioenergy","solar","wind","pumping_up","pumping_down","battery_charge","battery_generate"],xs=["nuclear","thermal","thermal_lng","thermal_coal","thermal_oil","thermal_others","others"],Ei={hydropower:"blue",geothermal:"darkgray",bioenergy:"#009933",solar:"gold",wind:"#99CCFF",pumping_up:"#FFB6C1",pumping_down:"#FFB6C1",battery_charge:"#DAB1DA",battery_generate:"#DAB1DA",nuclear:"#FF0000",thermal_lng:"#FFDBBB",thermal_coal:"#808080",thermal_oil:"#996633",thermal_others:"#FFA500",thermal:"#FFA500",others:"#36454F"};function Fi(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function Ui(t){let e,n,r,i,o,a,l;return{c(){e=ot("path"),v(e,"d",n=t[10](t[29])),v(e,"stroke",r=t[16](t[29].key)),v(e,"fill",i=t[16](t[29].key)),v(e,"stroke-width","1"),v(e,"opacity",o=t[15]?t[15]===t[29].key?1:.2:1)},m(u,s){W(u,e,s),l=!0},p(u,s){(!l||s[0]&3072&&n!==(n=u[10](u[29])))&&v(e,"d",n),(!l||s[0]&2048&&r!==(r=u[16](u[29].key)))&&v(e,"stroke",r),(!l||s[0]&2048&&i!==(i=u[16](u[29].key)))&&v(e,"fill",i),(!l||s[0]&34816&&o!==(o=u[15]?u[15]===u[29].key?1:.2:1))&&v(e,"opacity",o)},i(u){l||(u&&Ot(()=>{l&&(a||(a=Wr(e,ar,{},!0)),a.run(1))}),l=!0)},o(u){u&&(a||(a=Wr(e,ar,{},!1)),a.run(0)),l=!1},d(u){u&&I(e),u&&a&&a.end()}}}function Li(t){let e,n;return e=new bs({props:{data:t[9],x:t[14],colorScale:t[16],width:t[8]}}),{c(){Mt(e.$$.fragment)},m(r,i){wt(e,r,i),n=!0},p(r,i){const o={};i[0]&512&&(o.data=r[9]),i[0]&16384&&(o.x=r[14]),i[0]&256&&(o.width=r[8]),e.$set(o)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){et(e.$$.fragment,r),n=!1},d(r){vt(e,r)}}}function Ms(t){let e,n,r,i,o,a,l,u,s,c,f,h,d,g,x,p,_,M,w,y;function b(m){t[22](m)}let k={legendData:t[13],title:"Renewables"};t[15]!==void 0&&(k.clicked=t[15]),i=new Si({props:k}),Pt.push(()=>Xe(i,"clicked",b));function S(m){t[23](m)}let C={legendData:t[12],title:"Non-renewables"};t[15]!==void 0&&(C.clicked=t[15]),l=new Si({props:C}),Pt.push(()=>Xe(l,"clicked",S)),d=new Yo({props:{height:t[1],width:t[2],interval:t[0],xScale:t[5]}}),g=new Po({props:{width:t[2],yScale:t[4],ticks:t[4].ticks(6),title:"Power Generation Value (in GWh)"}});let U=mt(t[11]),A=[];for(let m=0;m<U.length;m+=1)A[m]=Ui(Fi(t,U,m));const E=m=>et(A[m],1,1,()=>{A[m]=null});function q(m){t[24](m)}function L(m){t[25](m)}let V={width:t[2],height:t[1],xScale:t[5],margin:t[17]};t[3]!==void 0&&(V.hoveredDate=t[3]),t[14]!==void 0&&(V.xPos=t[14]),p=new ms({props:V}),Pt.push(()=>Xe(p,"hoveredDate",q)),Pt.push(()=>Xe(p,"xPos",L));let F=t[3]&&t[9]&&Li(t);return{c(){e=B("div"),n=B("div"),n.innerHTML='<span style="font-size: 0.7em; margin-left: 20px;">Click on a legend item to highlight the fuel source. Double-click on any item to un-highlight.</span>',r=ut(),Mt(i.$$.fragment),a=ut(),Mt(l.$$.fragment),s=ut(),c=B("div"),f=ot("svg"),h=ot("g"),Mt(d.$$.fragment),Mt(g.$$.fragment);for(let m=0;m<A.length;m+=1)A[m].c();x=Ie(),Mt(p.$$.fragment),w=ut(),F&&F.c(),Ct(e,"height","220px"),v(h,"transform","translate("+t[17].left+" "+t[17].top+")"),v(f,"width",t[8]),v(f,"height",t[7]),v(c,"class","chart-container svelte-18nps0q")},m(m,T){W(m,e,T),H(e,n),H(e,r),wt(i,e,null),H(e,a),wt(l,e,null),W(m,s,T),W(m,c,T),H(c,f),H(f,h),wt(d,h,null),wt(g,h,null);for(let z=0;z<A.length;z+=1)A[z]&&A[z].m(h,null);H(h,x),wt(p,h,null),H(c,w),F&&F.m(c,null),t[26](c),y=!0},p(m,T){const z={};T[0]&8192&&(z.legendData=m[13]),!o&&T[0]&32768&&(o=!0,z.clicked=m[15],Ve(()=>o=!1)),i.$set(z);const O={};T[0]&4096&&(O.legendData=m[12]),!u&&T[0]&32768&&(u=!0,O.clicked=m[15],Ve(()=>u=!1)),l.$set(O);const P={};T[0]&2&&(P.height=m[1]),T[0]&4&&(P.width=m[2]),T[0]&1&&(P.interval=m[0]),T[0]&32&&(P.xScale=m[5]),d.$set(P);const X={};if(T[0]&4&&(X.width=m[2]),T[0]&16&&(X.yScale=m[4]),T[0]&16&&(X.ticks=m[4].ticks(6)),g.$set(X),T[0]&101376){U=mt(m[11]);let Q;for(Q=0;Q<U.length;Q+=1){const kt=Fi(m,U,Q);A[Q]?(A[Q].p(kt,T),j(A[Q],1)):(A[Q]=Ui(kt),A[Q].c(),j(A[Q],1),A[Q].m(h,x))}for(me(),Q=U.length;Q<A.length;Q+=1)E(Q);pe()}const Z={};T[0]&4&&(Z.width=m[2]),T[0]&2&&(Z.height=m[1]),T[0]&32&&(Z.xScale=m[5]),!_&&T[0]&8&&(_=!0,Z.hoveredDate=m[3],Ve(()=>_=!1)),!M&&T[0]&16384&&(M=!0,Z.xPos=m[14],Ve(()=>M=!1)),p.$set(Z),(!y||T[0]&256)&&v(f,"width",m[8]),(!y||T[0]&128)&&v(f,"height",m[7]),m[3]&&m[9]?F?(F.p(m,T),T[0]&520&&j(F,1)):(F=Li(m),F.c(),j(F,1),F.m(c,null)):F&&(me(),et(F,1,1,()=>{F=null}),pe())},i(m){if(!y){j(i.$$.fragment,m),j(l.$$.fragment,m),j(d.$$.fragment,m),j(g.$$.fragment,m);for(let T=0;T<U.length;T+=1)j(A[T]);j(p.$$.fragment,m),j(F),y=!0}},o(m){et(i.$$.fragment,m),et(l.$$.fragment,m),et(d.$$.fragment,m),et(g.$$.fragment,m),A=A.filter(Boolean);for(let T=0;T<A.length;T+=1)et(A[T]);et(p.$$.fragment,m),et(F),y=!1},d(m){m&&(I(e),I(s),I(c)),vt(i),vt(l),vt(d),vt(g),re(A,m),vt(p),F&&F.d(),t[26](null)}}}function Ds(t){const e=Object.keys(t[0]||{}).filter(r=>r!=="date"&&r!=="region"),n={};return e.forEach(r=>{n[r]=t.reduce((i,o)=>i+(o[r]||0),0)}),e.sort((r,i)=>n[i]-n[r])}function In(t){const e=new Date(t),n=e.getDay();return e.setDate(e.getDate()-n),e.setHours(0,0,0,0),e}function Ts(t,e,n){let r,i,o,a,l,u,s,c,f,h,d,g,x,{data:p,aggregationLevel:_}=e;const M=so().domain(Object.keys(Ei)).range(Object.values(Ei)),w={top:40,right:30,bottom:30,left:60};let y,b=520,k=600,S=b-w.top-w.bottom,C=k-w.left-w.right;Mn(()=>{U()}),ao(()=>{U()});function U(){y&&(n(8,k=y.clientWidth),n(2,C=k-w.left-w.right),n(7,b=y.clientHeight),n(1,S=b-w.top-w.bottom))}function A(m,T,z){return m.length?m.reduce((O,P)=>{const X=new Date(P.date),Z=X.getTime(),Q=O?new Date(O.date):null,kt=Q?Q.getTime():null;if(!O||Z===T)return P;if(z==="hourly"){if(Math.abs(Z-T)<Math.abs(kt-T))return P}else if(z==="daily"){const ct=new Date(T).setHours(0,0,0,0),yt=new Date(X).setHours(0,0,0,0),nt=new Date(Q).setHours(0,0,0,0);if(Math.abs(yt-ct)<Math.abs(nt-ct))return P}else if(z==="weekly"){const ct=In(new Date(T)),yt=In(X),nt=In(Q);if(Math.abs(yt.getTime()-ct.getTime())<Math.abs(nt.getTime()-ct.getTime()))return P}else if(z==="monthly"){const ct=new Date(T),yt=ct.getMonth(),nt=ct.getFullYear(),Ft=X.getMonth(),N=X.getFullYear(),R=Q.getMonth(),$=Q.getFullYear(),D=nt*12+yt,tt=N*12+Ft,K=$*12+R;if(Math.abs(tt-D)<Math.abs(K-D))return P}return O},null):null}function E(m){r=m,n(15,r)}function q(m){r=m,n(15,r)}function L(m){i=m,n(3,i)}function V(m){o=m,n(14,o)}function F(m){Pt[m?"unshift":"push"](()=>{y=m,n(6,y)})}return t.$$set=m=>{"data"in m&&n(18,p=m.data),"aggregationLevel"in m&&n(0,_=m.aggregationLevel)},t.$$.update=()=>{t.$$.dirty[0]&262144&&n(20,a=Ds(p)),t.$$.dirty[0]&1310720&&n(21,l=a.map(m=>({color:M(m),text:m,total:Ia(p.map(T=>T[m]))}))),t.$$.dirty[0]&2097152&&l.sort((m,T)=>T.total-m.total),t.$$.dirty[0]&2097152&&n(19,u=l.map(m=>m.text)),t.$$.dirty[0]&2097152&&n(13,s=l.filter(m=>ks.indexOf(m.text)!==-1)),t.$$.dirty[0]&2097152&&n(12,c=l.filter(m=>xs.indexOf(m.text)!==-1)),t.$$.dirty[0]&1310722&&n(4,f=Tr().domain([0,uo(p,m=>a.reduce((T,z)=>T+(m[z]||0),0))*1.1]).range([S,0])),t.$$.dirty[0]&262148&&n(5,h=Er().domain([new Date(p[0].date),new Date(p[p.length-1].date)]).range([0,C])),t.$$.dirty[0]&786432&&n(11,d=is().keys(u)(p)),t.$$.dirty[0]&48&&n(10,g=es().x(m=>h(new Date(m.data.date))).y0(m=>f(m[0])).y1(m=>f(m[1]))),t.$$.dirty[0]&262153&&n(9,x=i?A(p,i,_):null)},n(15,r=null),n(3,i=null),n(14,o=0),[_,S,C,i,f,h,y,b,k,x,g,d,c,s,o,r,M,w,p,u,a,l,E,q,L,V,F]}class Ss extends qt{constructor(e){super(),Xt(this,e,Ts,Ms,Vt,{data:18,aggregationLevel:0},null,[-1,-1])}}function Yi(t,e,n){const r=t.slice();return r[14]=e[n],r}function Pi(t){let e,n,r,i,o,a,l,u,s,c=t[14][0]+"",f,h,d;return{c(){e=ot("path"),r=ot("circle"),a=ot("circle"),s=ot("text"),f=pt(c),v(e,"d",n=t[8](t[14][1])),v(e,"stroke","black"),v(e,"fill","transparent"),v(e,"stroke-width","3"),v(r,"cx",i=t[4](new Date(t[14][1][0].date_id))),v(r,"cy",o=t[3](t[14][1][0].value)),v(r,"r",5),v(r,"fill","black"),v(a,"cx",l=t[4](new Date(t[14][1][t[14][1].length-1].date_id))),v(a,"cy",u=t[3](t[14][1][t[14][1].length-1].value)),v(a,"r",5),v(a,"fill","black"),v(s,"x",h=t[4](new Date(t[14][1][0].date_id))+10),v(s,"y",d=t[3](t[14][1][0].value)-10),v(s,"fill","black"),v(s,"text-anchor","start")},m(g,x){W(g,e,x),W(g,r,x),W(g,a,x),W(g,s,x),H(s,f)},p(g,x){x&260&&n!==(n=g[8](g[14][1]))&&v(e,"d",n),x&20&&i!==(i=g[4](new Date(g[14][1][0].date_id)))&&v(r,"cx",i),x&12&&o!==(o=g[3](g[14][1][0].value))&&v(r,"cy",o),x&20&&l!==(l=g[4](new Date(g[14][1][g[14][1].length-1].date_id)))&&v(a,"cx",l),x&12&&u!==(u=g[3](g[14][1][g[14][1].length-1].value))&&v(a,"cy",u),x&4&&c!==(c=g[14][0]+"")&&Nt(f,c),x&20&&h!==(h=g[4](new Date(g[14][1][0].date_id))+10)&&v(s,"x",h),x&12&&d!==(d=g[3](g[14][1][0].value)-10)&&v(s,"y",d)},d(g){g&&(I(e),I(r),I(a),I(s))}}}function Cs(t){let e,n,r,i,o,a;i=new Yo({props:{height:t[0],width:t[1],xScale:t[4],interval:"monthly"}}),o=new Po({props:{width:t[1],yScale:t[3],ticks:t[3].ticks(6),title:"Power Generation Value (in GWh)"}});let l=mt(t[2]),u=[];for(let s=0;s<l.length;s+=1)u[s]=Pi(Yi(t,l,s));return{c(){e=B("div"),n=ot("svg"),r=ot("g"),Mt(i.$$.fragment),Mt(o.$$.fragment);for(let s=0;s<u.length;s+=1)u[s].c();v(r,"transform","translate("+t[9].left+" "+t[9].top+")"),v(n,"width",t[6]),v(n,"height",t[7]),v(e,"class","chart-container svelte-h4stok")},m(s,c){W(s,e,c),H(e,n),H(n,r),wt(i,r,null),wt(o,r,null);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(r,null);t[12](e),a=!0},p(s,[c]){const f={};c&1&&(f.height=s[0]),c&2&&(f.width=s[1]),c&16&&(f.xScale=s[4]),i.$set(f);const h={};if(c&2&&(h.width=s[1]),c&8&&(h.yScale=s[3]),c&8&&(h.ticks=s[3].ticks(6)),o.$set(h),c&284){l=mt(s[2]);let d;for(d=0;d<l.length;d+=1){const g=Yi(s,l,d);u[d]?u[d].p(g,c):(u[d]=Pi(g),u[d].c(),u[d].m(r,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=l.length}(!a||c&64)&&v(n,"width",s[6]),(!a||c&128)&&v(n,"height",s[7])},i(s){a||(j(i.$$.fragment,s),j(o.$$.fragment,s),a=!0)},o(s){et(i.$$.fragment,s),et(o.$$.fragment,s),a=!1},d(s){s&&I(e),vt(i),vt(o),re(u,s),t[12](null)}}}function As(t,e,n){let r,i,o,a,l,{data:u}=e;const s={top:40,right:60,bottom:30,left:60};let c,f=200,h=520,d=h-s.top-s.bottom,g=f-s.left-s.right;Mn(()=>{x()}),ao(()=>{x()});function x(){c&&(n(6,f=c.clientWidth),n(1,g=f-s.left-s.right),n(7,h=c.clientHeight),n(0,d=h-s.top-s.bottom))}function p(_){Pt[_?"unshift":"push"](()=>{c=_,n(5,c)})}return t.$$set=_=>{"data"in _&&n(10,u=_.data)},t.$$.update=()=>{t.$$.dirty&1024&&n(11,r=u&&u.length>0?uo(u,_=>_.value)*1.1:1e3),t.$$.dirty&1024&&n(2,i=La(u,_=>_.type)),t.$$.dirty&2049&&n(3,o=Tr().domain([0,r]).range([d,0])),t.$$.dirty&1026&&n(4,a=Er().domain([new Date(u[0].date_id),new Date(u[u.length-1].date_id)]).range([0,g])),t.$$.dirty&24&&n(8,l=Lo().x((_,M)=>a(new Date(_.date_id))).y(_=>o(_.value))),t.$$.dirty&4&&console.log(i)},[d,g,i,o,a,c,f,h,l,s,u,r,p]}class Ns extends qt{constructor(e){super(),Xt(this,e,As,Cs,Vt,{data:10})}}var lr="http://www.w3.org/1999/xhtml";const Hi={svg:"http://www.w3.org/2000/svg",xhtml:lr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Sn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Hi.hasOwnProperty(e)?{space:Hi[e],local:t}:t}function Es(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===lr&&e.documentElement.namespaceURI===lr?e.createElement(t):e.createElementNS(n,t)}}function Fs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ho(t){var e=Sn(t);return(e.local?Fs:Es)(e)}function Us(){}function Ur(t){return t==null?Us:function(){return this.querySelector(t)}}function Ls(t){typeof t!="function"&&(t=Ur(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=new Array(a),u,s,c=0;c<a;++c)(u=o[c])&&(s=t.call(u,u.__data__,c,o))&&("__data__"in u&&(s.__data__=u.__data__),l[c]=s);return new _t(r,this._parents)}function Ys(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ps(){return[]}function Ro(t){return t==null?Ps:function(){return this.querySelectorAll(t)}}function Hs(t){return function(){return Ys(t.apply(this,arguments))}}function Rs(t){typeof t=="function"?t=Hs(t):t=Ro(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],l=a.length,u,s=0;s<l;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new _t(r,i)}function Oo(t){return function(){return this.matches(t)}}function Io(t){return function(e){return e.matches(t)}}var Os=Array.prototype.find;function Is(t){return function(){return Os.call(this.children,t)}}function zs(){return this.firstElementChild}function Ws(t){return this.select(t==null?zs:Is(typeof t=="function"?t:Io(t)))}var $s=Array.prototype.filter;function Vs(){return Array.from(this.children)}function Xs(t){return function(){return $s.call(this.children,t)}}function qs(t){return this.selectAll(t==null?Vs:Xs(typeof t=="function"?t:Io(t)))}function Bs(t){typeof t!="function"&&(t=Oo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=[],u,s=0;s<a;++s)(u=o[s])&&t.call(u,u.__data__,s,o)&&l.push(u);return new _t(r,this._parents)}function zo(t){return new Array(t.length)}function Gs(){return new _t(this._enter||this._groups.map(zo),this._parents)}function yn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}yn.prototype={constructor:yn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Zs(t){return function(){return t}}function Ks(t,e,n,r,i,o){for(var a=0,l,u=e.length,s=o.length;a<s;++a)(l=e[a])?(l.__data__=o[a],r[a]=l):n[a]=new yn(t,o[a]);for(;a<u;++a)(l=e[a])&&(i[a]=l)}function Qs(t,e,n,r,i,o,a){var l,u,s=new Map,c=e.length,f=o.length,h=new Array(c),d;for(l=0;l<c;++l)(u=e[l])&&(h[l]=d=a.call(u,u.__data__,l,e)+"",s.has(d)?i[l]=u:s.set(d,u));for(l=0;l<f;++l)d=a.call(t,o[l],l,o)+"",(u=s.get(d))?(r[l]=u,u.__data__=o[l],s.delete(d)):n[l]=new yn(t,o[l]);for(l=0;l<c;++l)(u=e[l])&&s.get(h[l])===u&&(i[l]=u)}function Js(t){return t.__data__}function js(t,e){if(!arguments.length)return Array.from(this,Js);var n=e?Qs:Ks,r=this._parents,i=this._groups;typeof t!="function"&&(t=Zs(t));for(var o=i.length,a=new Array(o),l=new Array(o),u=new Array(o),s=0;s<o;++s){var c=r[s],f=i[s],h=f.length,d=tf(t.call(c,c&&c.__data__,s,r)),g=d.length,x=l[s]=new Array(g),p=a[s]=new Array(g),_=u[s]=new Array(h);n(c,f,x,p,_,d,e);for(var M=0,w=0,y,b;M<g;++M)if(y=x[M]){for(M>=w&&(w=M+1);!(b=p[w])&&++w<g;);y._next=b||null}}return a=new _t(a,r),a._enter=l,a._exit=u,a}function tf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ef(){return new _t(this._exit||this._groups.map(zo),this._parents)}function nf(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function rf(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),u=0;u<a;++u)for(var s=n[u],c=r[u],f=s.length,h=l[u]=new Array(f),d,g=0;g<f;++g)(d=s[g]||c[g])&&(h[g]=d);for(;u<i;++u)l[u]=n[u];return new _t(l,this._parents)}function of(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function af(t){t||(t=lf);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],l=a.length,u=i[o]=new Array(l),s,c=0;c<l;++c)(s=a[c])&&(u[c]=s);u.sort(e)}return new _t(i,this._parents).order()}function lf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function uf(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function sf(){return Array.from(this)}function ff(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function cf(){let t=0;for(const e of this)++t;return t}function hf(){return!this.node()}function gf(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function df(t){return function(){this.removeAttribute(t)}}function mf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pf(t,e){return function(){this.setAttribute(t,e)}}function _f(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function yf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function wf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function vf(t,e){var n=Sn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?mf:df:typeof e=="function"?n.local?wf:yf:n.local?_f:pf)(n,e))}function Wo(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function bf(t){return function(){this.style.removeProperty(t)}}function kf(t,e,n){return function(){this.style.setProperty(t,e,n)}}function xf(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Mf(t,e,n){return arguments.length>1?this.each((e==null?bf:typeof e=="function"?xf:kf)(t,e,n??"")):Me(this.node(),t)}function Me(t,e){return t.style.getPropertyValue(e)||Wo(t).getComputedStyle(t,null).getPropertyValue(e)}function Df(t){return function(){delete this[t]}}function Tf(t,e){return function(){this[t]=e}}function Sf(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Cf(t,e){return arguments.length>1?this.each((e==null?Df:typeof e=="function"?Sf:Tf)(t,e)):this.node()[t]}function $o(t){return t.trim().split(/^|\s+/)}function Lr(t){return t.classList||new Vo(t)}function Vo(t){this._node=t,this._names=$o(t.getAttribute("class")||"")}Vo.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Xo(t,e){for(var n=Lr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function qo(t,e){for(var n=Lr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Af(t){return function(){Xo(this,t)}}function Nf(t){return function(){qo(this,t)}}function Ef(t,e){return function(){(e.apply(this,arguments)?Xo:qo)(this,t)}}function Ff(t,e){var n=$o(t+"");if(arguments.length<2){for(var r=Lr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Ef:e?Af:Nf)(n,e))}function Uf(){this.textContent=""}function Lf(t){return function(){this.textContent=t}}function Yf(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Pf(t){return arguments.length?this.each(t==null?Uf:(typeof t=="function"?Yf:Lf)(t)):this.node().textContent}function Hf(){this.innerHTML=""}function Rf(t){return function(){this.innerHTML=t}}function Of(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function If(t){return arguments.length?this.each(t==null?Hf:(typeof t=="function"?Of:Rf)(t)):this.node().innerHTML}function zf(){this.nextSibling&&this.parentNode.appendChild(this)}function Wf(){return this.each(zf)}function $f(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vf(){return this.each($f)}function Xf(t){var e=typeof t=="function"?t:Ho(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function qf(){return null}function Bf(t,e){var n=typeof t=="function"?t:Ho(t),r=e==null?qf:typeof e=="function"?e:Ur(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Gf(){var t=this.parentNode;t&&t.removeChild(this)}function Zf(){return this.each(Gf)}function Kf(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qf(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Jf(t){return this.select(t?Qf:Kf)}function jf(t){return arguments.length?this.property("__data__",t):this.node().__data__}function tc(t){return function(e){t.call(this,e,this.__data__)}}function ec(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function nc(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function rc(t,e,n){return function(){var r=this.__on,i,o=tc(e);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ic(t,e,n){var r=ec(t+""),i,o=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,s=l.length,c;u<s;++u)for(i=0,c=l[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(l=e?rc:nc,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function Bo(t,e,n){var r=Wo(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function oc(t,e){return function(){return Bo(this,t,e)}}function ac(t,e){return function(){return Bo(this,t,e.apply(this,arguments))}}function lc(t,e){return this.each((typeof e=="function"?ac:oc)(t,e))}function*uc(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Go=[null];function _t(t,e){this._groups=t,this._parents=e}function We(){return new _t([[document.documentElement]],Go)}function sc(){return this}_t.prototype=We.prototype={constructor:_t,select:Ls,selectAll:Rs,selectChild:Ws,selectChildren:qs,filter:Bs,data:js,enter:Gs,exit:ef,join:nf,merge:rf,selection:sc,order:of,sort:af,call:uf,nodes:sf,node:ff,size:cf,empty:hf,each:gf,attr:vf,style:Mf,property:Cf,classed:Ff,text:Pf,html:If,raise:Wf,lower:Vf,append:Xf,insert:Bf,remove:Zf,clone:Jf,datum:jf,on:ic,dispatch:lc,[Symbol.iterator]:uc};function Yt(t){return typeof t=="string"?new _t([[document.querySelector(t)]],[document.documentElement]):new _t([[t]],Go)}function fc(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ri(t,e){if(t=fc(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var cc={value:()=>{}};function Yr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new je(n)}function je(t){this._=t}function hc(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}je.prototype=Yr.prototype={constructor:je,on:function(t,e){var n=this._,r=hc(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=gc(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Oi(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Oi(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new je(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function gc(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Oi(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=cc,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const ur={capture:!0,passive:!1};function sr(t){t.preventDefault(),t.stopImmediatePropagation()}function dc(t){var e=t.document.documentElement,n=Yt(t).on("dragstart.drag",sr,ur);"onselectstart"in e?n.on("selectstart.drag",sr,ur):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function mc(t,e){var n=t.document.documentElement,r=Yt(t).on("dragstart.drag",null);e&&(r.on("click.drag",sr,ur),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var De=0,Fe=0,Ee=0,Zo=1e3,wn,Ue,vn=0,ne=0,Cn=0,Re=typeof performance=="object"&&performance.now?performance:Date,Ko=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Pr(){return ne||(Ko(pc),ne=Re.now()+Cn)}function pc(){ne=0}function bn(){this._call=this._time=this._next=null}bn.prototype=Qo.prototype={constructor:bn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Pr():+n)+(e==null?0:+e),!this._next&&Ue!==this&&(Ue?Ue._next=this:wn=this,Ue=this),this._call=t,this._time=n,fr()},stop:function(){this._call&&(this._call=null,this._time=1/0,fr())}};function Qo(t,e,n){var r=new bn;return r.restart(t,e,n),r}function _c(){Pr(),++De;for(var t=wn,e;t;)(e=ne-t._time)>=0&&t._call.call(void 0,e),t=t._next;--De}function Ii(){ne=(vn=Re.now())+Cn,De=Fe=0;try{_c()}finally{De=0,wc(),ne=0}}function yc(){var t=Re.now(),e=t-vn;e>Zo&&(Cn-=e,vn=t)}function wc(){for(var t,e=wn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:wn=n);Ue=t,fr(r)}function fr(t){if(!De){Fe&&(Fe=clearTimeout(Fe));var e=t-ne;e>24?(t<1/0&&(Fe=setTimeout(Ii,t-Re.now()-Cn)),Ee&&(Ee=clearInterval(Ee))):(Ee||(vn=Re.now(),Ee=setInterval(yc,Zo)),De=1,Ko(Ii))}}function zi(t,e,n){var r=new bn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var vc=Yr("start","end","cancel","interrupt"),bc=[],Jo=0,Wi=1,cr=2,tn=3,$i=4,hr=5,en=6;function An(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;kc(t,n,{name:e,index:r,group:i,on:vc,tween:bc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Jo})}function Hr(t,e){var n=Tt(t,e);if(n.state>Jo)throw new Error("too late; already scheduled");return n}function Et(t,e){var n=Tt(t,e);if(n.state>tn)throw new Error("too late; already running");return n}function Tt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function kc(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Qo(o,0,n.time);function o(s){n.state=Wi,n.timer.restart(a,n.delay,n.time),n.delay<=s&&a(s-n.delay)}function a(s){var c,f,h,d;if(n.state!==Wi)return u();for(c in r)if(d=r[c],d.name===n.name){if(d.state===tn)return zi(a);d.state===$i?(d.state=en,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=en,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(zi(function(){n.state===tn&&(n.state=$i,n.timer.restart(l,n.delay,n.time),l(s))}),n.state=cr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===cr){for(n.state=tn,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function l(s){for(var c=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(u),n.state=hr,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===hr&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=en,n.timer.stop(),delete r[e];for(var s in r)return;delete t.__transition}}function gr(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>cr&&r.state<hr,r.state=en,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function xc(t){return this.each(function(){gr(this,t)})}function Mc(t,e){var n,r;return function(){var i=Et(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Dc(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Et(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:n},u=0,s=i.length;u<s;++u)if(i[u].name===e){i[u]=l;break}u===s&&i.push(l)}o.tween=i}}function Tc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Tt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Mc:Dc)(n,t,e))}function Rr(t,e,n){var r=t._id;return t.each(function(){var i=Et(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Tt(i,r).value[e]}}function jo(t,e){var n;return(typeof e=="number"?xt:e instanceof te?cn:(n=te(e))?(e=n,cn):go)(t,e)}function Sc(t){return function(){this.removeAttribute(t)}}function Cc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ac(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Nc(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Ec(t,e,n){var r,i,o;return function(){var a,l=n(this),u;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=l+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,l)))}}function Fc(t,e,n){var r,i,o;return function(){var a,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=l+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,l)))}}function Uc(t,e){var n=Sn(t),r=n==="transform"?gl:jo;return this.attrTween(t,typeof e=="function"?(n.local?Fc:Ec)(n,r,Rr(this,"attr."+t,e)):e==null?(n.local?Cc:Sc)(n):(n.local?Nc:Ac)(n,r,e))}function Lc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Yc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Pc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Yc(t,o)),n}return i._value=e,i}function Hc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Lc(t,o)),n}return i._value=e,i}function Rc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Sn(t);return this.tween(n,(r.local?Pc:Hc)(r,e))}function Oc(t,e){return function(){Hr(this,t).delay=+e.apply(this,arguments)}}function Ic(t,e){return e=+e,function(){Hr(this,t).delay=e}}function zc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Oc:Ic)(e,t)):Tt(this.node(),e).delay}function Wc(t,e){return function(){Et(this,t).duration=+e.apply(this,arguments)}}function $c(t,e){return e=+e,function(){Et(this,t).duration=e}}function Vc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Wc:$c)(e,t)):Tt(this.node(),e).duration}function Xc(t,e){if(typeof e!="function")throw new Error;return function(){Et(this,t).ease=e}}function qc(t){var e=this._id;return arguments.length?this.each(Xc(e,t)):Tt(this.node(),e).ease}function Bc(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Et(this,t).ease=n}}function Gc(t){if(typeof t!="function")throw new Error;return this.each(Bc(this._id,t))}function Zc(t){typeof t!="function"&&(t=Oo(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=[],u,s=0;s<a;++s)(u=o[s])&&t.call(u,u.__data__,s,o)&&l.push(u);return new Wt(r,this._parents,this._name,this._id)}function Kc(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var u=e[l],s=n[l],c=u.length,f=a[l]=new Array(c),h,d=0;d<c;++d)(h=u[d]||s[d])&&(f[d]=h);for(;l<r;++l)a[l]=e[l];return new Wt(a,this._parents,this._name,this._id)}function Qc(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Jc(t,e,n){var r,i,o=Qc(e)?Hr:Et;return function(){var a=o(this,t),l=a.on;l!==r&&(i=(r=l).copy()).on(e,n),a.on=i}}function jc(t,e){var n=this._id;return arguments.length<2?Tt(this.node(),n).on.on(t):this.each(Jc(n,t,e))}function th(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function eh(){return this.on("end.remove",th(this._id))}function nh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ur(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var l=r[a],u=l.length,s=o[a]=new Array(u),c,f,h=0;h<u;++h)(c=l[h])&&(f=t.call(c,c.__data__,h,l))&&("__data__"in c&&(f.__data__=c.__data__),s[h]=f,An(s[h],e,n,h,s,Tt(c,n)));return new Wt(o,this._parents,e,n)}function rh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ro(t));for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var u=r[l],s=u.length,c,f=0;f<s;++f)if(c=u[f]){for(var h=t.call(c,c.__data__,f,u),d,g=Tt(c,n),x=0,p=h.length;x<p;++x)(d=h[x])&&An(d,e,n,x,h,g);o.push(h),a.push(c)}return new Wt(o,a,e,n)}var ih=We.prototype.constructor;function oh(){return new ih(this._groups,this._parents)}function ah(t,e){var n,r,i;return function(){var o=Me(this,t),a=(this.style.removeProperty(t),Me(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function ta(t){return function(){this.style.removeProperty(t)}}function lh(t,e,n){var r,i=n+"",o;return function(){var a=Me(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function uh(t,e,n){var r,i,o;return function(){var a=Me(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),Me(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,l))}}function sh(t,e){var n,r,i,o="style."+e,a="end."+o,l;return function(){var u=Et(this,t),s=u.on,c=u.value[o]==null?l||(l=ta(e)):void 0;(s!==n||i!==c)&&(r=(n=s).copy()).on(a,i=c),u.on=r}}function fh(t,e,n){var r=(t+="")=="transform"?hl:jo;return e==null?this.styleTween(t,ah(t,r)).on("end.style."+t,ta(t)):typeof e=="function"?this.styleTween(t,uh(t,r,Rr(this,"style."+t,e))).each(sh(this._id,t)):this.styleTween(t,lh(t,r,e),n).on("end.style."+t,null)}function ch(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function hh(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&ch(t,a,n)),r}return o._value=e,o}function gh(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,hh(t,e,n??""))}function dh(t){return function(){this.textContent=t}}function mh(t){return function(){var e=t(this);this.textContent=e??""}}function ph(t){return this.tween("text",typeof t=="function"?mh(Rr(this,"text",t)):dh(t==null?"":t+""))}function _h(t){return function(e){this.textContent=t.call(this,e)}}function yh(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&_h(i)),e}return r._value=t,r}function wh(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,yh(t))}function vh(){for(var t=this._name,e=this._id,n=ea(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,u,s=0;s<l;++s)if(u=a[s]){var c=Tt(u,e);An(u,t,n,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Wt(r,this._parents,t,n)}function bh(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var l={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var s=Et(this,r),c=s.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),s.on=e}),i===0&&o()})}var kh=0;function Wt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ea(){return++kh}var Ut=We.prototype;Wt.prototype={constructor:Wt,select:nh,selectAll:rh,selectChild:Ut.selectChild,selectChildren:Ut.selectChildren,filter:Zc,merge:Kc,selection:oh,transition:vh,call:Ut.call,nodes:Ut.nodes,node:Ut.node,size:Ut.size,empty:Ut.empty,each:Ut.each,on:jc,attr:Uc,attrTween:Rc,style:fh,styleTween:gh,text:ph,textTween:wh,remove:eh,tween:Tc,delay:zc,duration:Vc,ease:qc,easeVarying:Gc,end:bh,[Symbol.iterator]:Ut[Symbol.iterator]};function xh(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Mh={time:null,delay:0,duration:250,ease:xh};function Dh(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Th(t){var e,n;t instanceof Wt?(e=t._id,t=t._name):(e=ea(),(n=Mh).time=Pr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,u,s=0;s<l;++s)(u=a[s])&&An(u,t,e,s,a,n||Dh(u,e));return new Wt(r,this._parents,t,e)}We.prototype.interrupt=xc;We.prototype.transition=Th;const zn=t=>()=>t;function Sh(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Ch(t){t.stopImmediatePropagation()}function Wn(t){t.preventDefault(),t.stopImmediatePropagation()}var Vi={name:"drag"},$n={name:"space"},ue={name:"handle"},se={name:"center"};const{abs:Xi,max:st,min:ft}=Math;function qi(t){return[+t[0],+t[1]]}function Bi(t){return[qi(t[0]),qi(t[1])]}var nn={name:"x",handles:["w","e"].map(kn),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Vn={name:"y",handles:["n","s"].map(kn),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Lt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Gi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Zi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ah={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Nh={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function kn(t){return{type:t}}function Eh(t){return!t.ctrlKey&&!t.button}function Fh(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Uh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xn(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Lh(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Yh(){return Ph(nn)}function Ph(t){var e=Fh,n=Eh,r=Uh,i=!0,o=Yr("start","brush","end"),a=6,l;function u(p){var _=p.property("__brush",x).selectAll(".overlay").data([kn("overlay")]);_.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Lt.overlay).merge(_).each(function(){var w=Xn(this).extent;Yt(this).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1])}),p.selectAll(".selection").data([kn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Lt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var M=p.selectAll(".handle").data(t.handles,function(w){return w.type});M.exit().remove(),M.enter().append("rect").attr("class",function(w){return"handle handle--"+w.type}).attr("cursor",function(w){return Lt[w.type]}),p.each(s).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(p,_,M){p.tween?p.on("start.brush",function(w){c(this,arguments).beforestart().start(w)}).on("interrupt.brush end.brush",function(w){c(this,arguments).end(w)}).tween("brush",function(){var w=this,y=w.__brush,b=c(w,arguments),k=y.selection,S=t.input(typeof _=="function"?_.apply(this,arguments):_,y.extent),C=Dn(k,S);function U(A){y.selection=A===1&&S===null?null:C(A),s.call(w),b.brush()}return k!==null&&S!==null?U:U(1)}):p.each(function(){var w=this,y=arguments,b=w.__brush,k=t.input(typeof _=="function"?_.apply(w,y):_,b.extent),S=c(w,y).beforestart();gr(w),b.selection=k===null?null:k,s.call(w),S.start(M).brush(M).end(M)})},u.clear=function(p,_){u.move(p,null,_)};function s(){var p=Yt(this),_=Xn(this).selection;_?(p.selectAll(".selection").style("display",null).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1]),p.selectAll(".handle").style("display",null).attr("x",function(M){return M.type[M.type.length-1]==="e"?_[1][0]-a/2:_[0][0]-a/2}).attr("y",function(M){return M.type[0]==="s"?_[1][1]-a/2:_[0][1]-a/2}).attr("width",function(M){return M.type==="n"||M.type==="s"?_[1][0]-_[0][0]+a:a}).attr("height",function(M){return M.type==="e"||M.type==="w"?_[1][1]-_[0][1]+a:a})):p.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(p,_,M){var w=p.__brush.emitter;return w&&(!M||!w.clean)?w:new f(p,_,M)}function f(p,_,M){this.that=p,this.args=_,this.state=p.__brush,this.active=0,this.clean=M}f.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(p,_){return this.starting?(this.starting=!1,this.emit("start",p,_)):this.emit("brush",p),this},brush:function(p,_){return this.emit("brush",p,_),this},end:function(p,_){return--this.active===0&&(delete this.state.emitter,this.emit("end",p,_)),this},emit:function(p,_,M){var w=Yt(this.that).datum();o.call(p,this.that,new Sh(p,{sourceEvent:_,target:u,selection:t.output(this.state.selection),mode:M,dispatch:o}),w)}};function h(p){if(l&&!p.touches||!n.apply(this,arguments))return;var _=this,M=p.target.__data__.type,w=(i&&p.metaKey?M="overlay":M)==="selection"?Vi:i&&p.altKey?se:ue,y=t===Vn?null:Ah[M],b=t===nn?null:Nh[M],k=Xn(_),S=k.extent,C=k.selection,U=S[0][0],A,E,q=S[0][1],L,V,F=S[1][0],m,T,z=S[1][1],O,P,X=0,Z=0,Q,kt=y&&b&&i&&p.shiftKey,ct,yt,nt=Array.from(p.touches||[p],Y=>{const rt=Y.identifier;return Y=Ri(Y,_),Y.point0=Y.slice(),Y.identifier=rt,Y});gr(_);var Ft=c(_,arguments,!0).beforestart();if(M==="overlay"){C&&(Q=!0);const Y=[nt[0],nt[1]||nt[0]];k.selection=C=[[A=t===Vn?U:ft(Y[0][0],Y[1][0]),L=t===nn?q:ft(Y[0][1],Y[1][1])],[m=t===Vn?F:st(Y[0][0],Y[1][0]),O=t===nn?z:st(Y[0][1],Y[1][1])]],nt.length>1&&tt(p)}else A=C[0][0],L=C[0][1],m=C[1][0],O=C[1][1];E=A,V=L,T=m,P=O;var N=Yt(_).attr("pointer-events","none"),R=N.selectAll(".overlay").attr("cursor",Lt[M]);if(p.touches)Ft.moved=D,Ft.ended=K;else{var $=Yt(p.view).on("mousemove.brush",D,!0).on("mouseup.brush",K,!0);i&&$.on("keydown.brush",ht,!0).on("keyup.brush",gt,!0),dc(p.view)}s.call(_),Ft.start(p,w.name);function D(Y){for(const rt of Y.changedTouches||[Y])for(const Te of nt)Te.identifier===rt.identifier&&(Te.cur=Ri(rt,_));if(kt&&!ct&&!yt&&nt.length===1){const rt=nt[0];Xi(rt.cur[0]-rt[0])>Xi(rt.cur[1]-rt[1])?yt=!0:ct=!0}for(const rt of nt)rt.cur&&(rt[0]=rt.cur[0],rt[1]=rt.cur[1]);Q=!0,Wn(Y),tt(Y)}function tt(Y){const rt=nt[0],Te=rt.point0;var Bt;switch(X=rt[0]-Te[0],Z=rt[1]-Te[1],w){case $n:case Vi:{y&&(X=st(U-A,ft(F-m,X)),E=A+X,T=m+X),b&&(Z=st(q-L,ft(z-O,Z)),V=L+Z,P=O+Z);break}case ue:{nt[1]?(y&&(E=st(U,ft(F,nt[0][0])),T=st(U,ft(F,nt[1][0])),y=1),b&&(V=st(q,ft(z,nt[0][1])),P=st(q,ft(z,nt[1][1])),b=1)):(y<0?(X=st(U-A,ft(F-A,X)),E=A+X,T=m):y>0&&(X=st(U-m,ft(F-m,X)),E=A,T=m+X),b<0?(Z=st(q-L,ft(z-L,Z)),V=L+Z,P=O):b>0&&(Z=st(q-O,ft(z-O,Z)),V=L,P=O+Z));break}case se:{y&&(E=st(U,ft(F,A-X*y)),T=st(U,ft(F,m+X*y))),b&&(V=st(q,ft(z,L-Z*b)),P=st(q,ft(z,O+Z*b)));break}}T<E&&(y*=-1,Bt=A,A=m,m=Bt,Bt=E,E=T,T=Bt,M in Gi&&R.attr("cursor",Lt[M=Gi[M]])),P<V&&(b*=-1,Bt=L,L=O,O=Bt,Bt=V,V=P,P=Bt,M in Zi&&R.attr("cursor",Lt[M=Zi[M]])),k.selection&&(C=k.selection),ct&&(E=C[0][0],T=C[1][0]),yt&&(V=C[0][1],P=C[1][1]),(C[0][0]!==E||C[0][1]!==V||C[1][0]!==T||C[1][1]!==P)&&(k.selection=[[E,V],[T,P]],s.call(_),Ft.brush(Y,w.name))}function K(Y){if(Ch(Y),Y.touches){if(Y.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else mc(Y.view,Q),$.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);N.attr("pointer-events","all"),R.attr("cursor",Lt.overlay),k.selection&&(C=k.selection),Lh(C)&&(k.selection=null,s.call(_)),Ft.end(Y,w.name)}function ht(Y){switch(Y.keyCode){case 16:{kt=y&&b;break}case 18:{w===ue&&(y&&(m=T-X*y,A=E+X*y),b&&(O=P-Z*b,L=V+Z*b),w=se,tt(Y));break}case 32:{(w===ue||w===se)&&(y<0?m=T-X:y>0&&(A=E-X),b<0?O=P-Z:b>0&&(L=V-Z),w=$n,R.attr("cursor",Lt.selection),tt(Y));break}default:return}Wn(Y)}function gt(Y){switch(Y.keyCode){case 16:{kt&&(ct=yt=kt=!1,tt(Y));break}case 18:{w===se&&(y<0?m=T:y>0&&(A=E),b<0?O=P:b>0&&(L=V),w=ue,tt(Y));break}case 32:{w===$n&&(Y.altKey?(y&&(m=T-X*y,A=E+X*y),b&&(O=P-Z*b,L=V+Z*b),w=se):(y<0?m=T:y>0&&(A=E),b<0?O=P:b>0&&(L=V),w=ue),R.attr("cursor",Lt[M]),tt(Y));break}default:return}Wn(Y)}}function d(p){c(this,arguments).moved(p)}function g(p){c(this,arguments).ended(p)}function x(){var p=this.__brush||{selection:null};return p.extent=Bi(e.apply(this,arguments)),p.dim=t,p}return u.extent=function(p){return arguments.length?(e=typeof p=="function"?p:zn(Bi(p)),u):e},u.filter=function(p){return arguments.length?(n=typeof p=="function"?p:zn(!!p),u):n},u.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:zn(!!p),u):r},u.handleSize=function(p){return arguments.length?(a=+p,u):a},u.keyModifiers=function(p){return arguments.length?(i=!!p,u):i},u.on=function(){var p=o.on.apply(o,arguments);return p===o?u:p},u}function Hh(t){return t}var qn=1,Bn=2,dr=3,Ke=4,Ki=1e-6;function Rh(t){return"translate("+t+",0)"}function Oh(t){return"translate(0,"+t+")"}function Ih(t){return e=>+t(e)}function zh(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Wh(){return!this.__axis}function $h(t,e){var n=[],r=null,i=null,o=6,a=6,l=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===qn||t===Ke?-1:1,c=t===Ke||t===Bn?"x":"y",f=t===qn||t===dr?Rh:Oh;function h(d){var g=r??(e.ticks?e.ticks.apply(e,n):e.domain()),x=i??(e.tickFormat?e.tickFormat.apply(e,n):Hh),p=Math.max(o,0)+l,_=e.range(),M=+_[0]+u,w=+_[_.length-1]+u,y=(e.bandwidth?zh:Ih)(e.copy(),u),b=d.selection?d.selection():d,k=b.selectAll(".domain").data([null]),S=b.selectAll(".tick").data(g,e).order(),C=S.exit(),U=S.enter().append("g").attr("class","tick"),A=S.select("line"),E=S.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(U),A=A.merge(U.append("line").attr("stroke","currentColor").attr(c+"2",s*o)),E=E.merge(U.append("text").attr("fill","currentColor").attr(c,s*p).attr("dy",t===qn?"0em":t===dr?"0.71em":"0.32em")),d!==b&&(k=k.transition(d),S=S.transition(d),A=A.transition(d),E=E.transition(d),C=C.transition(d).attr("opacity",Ki).attr("transform",function(q){return isFinite(q=y(q))?f(q+u):this.getAttribute("transform")}),U.attr("opacity",Ki).attr("transform",function(q){var L=this.parentNode.__axis;return f((L&&isFinite(L=L(q))?L:y(q))+u)})),C.remove(),k.attr("d",t===Ke||t===Bn?a?"M"+s*a+","+M+"H"+u+"V"+w+"H"+s*a:"M"+u+","+M+"V"+w:a?"M"+M+","+s*a+"V"+u+"H"+w+"V"+s*a:"M"+M+","+u+"H"+w),S.attr("opacity",1).attr("transform",function(q){return f(y(q)+u)}),A.attr(c+"2",s*o),E.attr(c,s*p).text(x),b.filter(Wh).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Bn?"start":t===Ke?"end":"middle"),b.each(function(){this.__axis=y})}return h.scale=function(d){return arguments.length?(e=d,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(o=a=+d,h):o},h.tickSizeInner=function(d){return arguments.length?(o=+d,h):o},h.tickSizeOuter=function(d){return arguments.length?(a=+d,h):a},h.tickPadding=function(d){return arguments.length?(l=+d,h):l},h.offset=function(d){return arguments.length?(u=+d,h):u},h}function Vh(t){return $h(dr,t)}function Xh(t){let e;return{c(){e=B("div"),e.innerHTML="",v(e,"class","timeslider-container svelte-rv4t1k")},m(n,r){W(n,e,r),t[7](e)},p:J,i:J,o:J,d(n){n&&I(e),t[7](null)}}}function qh(t,e){const n=Math.abs(e-t),r=Math.ceil(n/(1e3*60*60*24));return r>365?"monthly":r>90?"weekly":r>30?"daily":"hourly"}function Qi(t){return t.toISOString().split("T")[0]}function Bh(t,e,n){let{fullDateRange:r=[]}=e,{startDate:i=null}=e,{endDate:o=null}=e,{height:a=80}=e,{margin:l={top:10,right:40,bottom:30,left:40}}=e;const u=da();let s,c,f,h,d,g;Mn(()=>{if(g)return x(),()=>{}});function x(){if(!r||r.length===0)return;d=g.clientWidth-l.left-l.right;const y=r.map(A=>A instanceof Date?A:new Date(A)),b=new Date("2022-01-01"),k=new Date("2024-09-31");y[0]>b&&y.unshift(b),y[y.length-1]<k&&y.push(k),i||n(1,i="2022-01-01"),o||n(2,o="2024-09-31");const S=i instanceof Date?i:new Date(i),C=o instanceof Date?o:new Date(o);f=Er().domain(Aa(y)).range([0,d]),n(6,s=Yt(g).append("svg").attr("width",d+l.left+l.right).attr("height",a+l.top+l.bottom).append("g").attr("transform",`translate(${l.left},${l.top})`)),h=Vh(f).tickFormat(Nr("%b %Y")).ticks(d>600?10:5),s.append("g").attr("class","x-axis").attr("transform",`translate(0,${a-l.bottom})`).call(h),s.selectAll(".x-axis path, .x-axis line").style("stroke","#000").style("shape-rendering","crispEdges"),s.selectAll(".x-axis text").style("font-size","10px").style("font-family","Avenir, sans-serif"),c=Yh().extent([[0,0],[d,a-l.bottom]]).on("brush",p).on("end",_);const U=s.append("g").attr("class","brush").call(c);U.selectAll(".selection").style("fill","#000").style("fill-opacity",.3).style("stroke","#000").style("stroke-width",2),a-l.bottom,U.selectAll(".handle").style("fill","#000").style("stroke","#000").style("stroke-width",1).attr("rx",3).attr("ry",3),c.move(U,[f(S),f(C)])}function p(y){if(!y.selection)return;const[b,k]=y.selection,S=f.invert(b),C=f.invert(k);M(S,C,!1)}function _(y){if(!y.selection)return;const[b,k]=y.selection,S=f.invert(b),C=f.invert(k);M(S,C,!0)}function M(y,b,k){const S=Qi(y),C=Qi(b);n(1,i=S),n(2,o=C);const U=qh(y,b);k&&u("dateRangeChange",{startDate:S,endDate:C,aggregationLevel:U})}function w(y){Pt[y?"unshift":"push"](()=>{g=y,n(0,g)})}return t.$$set=y=>{"fullDateRange"in y&&n(3,r=y.fullDateRange),"startDate"in y&&n(1,i=y.startDate),"endDate"in y&&n(2,o=y.endDate),"height"in y&&n(4,a=y.height),"margin"in y&&n(5,l=y.margin)},t.$$.update=()=>{t.$$.dirty&65&&g&&g.clientWidth>0&&s&&(Yt(g).selectAll("*").remove(),x())},[g,i,o,r,a,l,s,w]}class Gh extends qt{constructor(e){super(),Xt(this,e,Bh,Xh,Vt,{fullDateRange:3,startDate:1,endDate:2,height:4,margin:5})}}function Ji(t,e,n){const r=t.slice();return r[13]=e[n],r}function Zh(t){let e;return{c(){e=B("div"),e.textContent="Loading...",v(e,"class","wrapper svelte-1bh98j8")},m(n,r){W(n,e,r)},p:J,i:J,o:J,d(n){n&&I(e)}}}function Kh(t){let e,n,r,i,o,a,l,u,s,c,f,h,d,g,x,p,_,M,w,y,b,k,S=mt(t[7]),C=[];for(let m=0;m<S.length;m+=1)C[m]=ji(Ji(t,S,m));const U=[Jh,Qh],A=[];function E(m,T){return m[3].length>0?0:1}h=E(t),d=A[h]=U[h](t);const q=[t0,jh],L=[];function V(m,T){return m[4].length>0?0:1}p=V(t),_=L[p]=q[p](t);let F=t[6].length>0&&to(t);return{c(){e=B("div"),n=B("div"),n.innerHTML="",r=ut(),i=B("div"),o=B("div"),a=B("select");for(let m=0;m<C.length;m+=1)C[m].c();l=ut(),u=B("span"),s=ut(),c=B("div"),f=B("div"),d.c(),g=ut(),x=B("div"),_.c(),M=ut(),w=B("div"),F&&F.c(),v(n,"class","title"),Ct(n,"margin-left","20px"),v(a,"class","svelte-1bh98j8"),v(u,"class","caret svelte-1bh98j8"),v(o,"class","dropdown svelte-1bh98j8"),v(i,"class","panel svelte-1bh98j8"),v(e,"class","header svelte-1bh98j8"),v(f,"class","left svelte-1bh98j8"),v(x,"class","right svelte-1bh98j8"),v(c,"class","wrapper svelte-1bh98j8"),v(w,"class","timeslider-wrapper svelte-1bh98j8")},m(m,T){W(m,e,T),H(e,n),H(e,r),H(e,i),H(i,o),H(o,a);for(let z=0;z<C.length;z+=1)C[z]&&C[z].m(a,null);zr(a,t[0]),H(o,l),H(o,u),W(m,s,T),W(m,c,T),H(c,f),A[h].m(f,null),H(c,g),H(c,x),L[p].m(x,null),W(m,M,T),W(m,w,T),F&&F.m(w,null),y=!0,b||(k=jt(a,"change",t[8]),b=!0)},p(m,T){if(T&128){S=mt(m[7]);let P;for(P=0;P<S.length;P+=1){const X=Ji(m,S,P);C[P]?C[P].p(X,T):(C[P]=ji(X),C[P].c(),C[P].m(a,null))}for(;P<C.length;P+=1)C[P].d(1);C.length=S.length}(!y||T&129)&&zr(a,m[0]);let z=h;h=E(m),h===z?A[h].p(m,T):(me(),et(A[z],1,1,()=>{A[z]=null}),pe(),d=A[h],d?d.p(m,T):(d=A[h]=U[h](m),d.c()),j(d,1),d.m(f,null));let O=p;p=V(m),p===O?L[p].p(m,T):(me(),et(L[O],1,1,()=>{L[O]=null}),pe(),_=L[p],_?_.p(m,T):(_=L[p]=q[p](m),_.c()),j(_,1),_.m(x,null)),m[6].length>0?F?(F.p(m,T),T&64&&j(F,1)):(F=to(m),F.c(),j(F,1),F.m(w,null)):F&&(me(),et(F,1,1,()=>{F=null}),pe())},i(m){y||(j(d),j(_),j(F),y=!0)},o(m){et(d),et(_),et(F),y=!1},d(m){m&&(I(e),I(s),I(c),I(M),I(w)),re(C,m),A[h].d(),L[p].d(),F&&F.d(),b=!1,k()}}}function ji(t){let e,n=t[13]+"",r;return{c(){e=B("option"),r=pt(n),e.__value=t[13],ua(e,e.__value)},m(i,o){W(i,e,o),H(e,r)},p:J,d(i){i&&I(e)}}}function Qh(t){let e;return{c(){e=B("div"),e.textContent="Loading..."},m(n,r){W(n,e,r)},p:J,i:J,o:J,d(n){n&&I(e)}}}function Jh(t){let e,n;return e=new Ss({props:{data:t[3],aggregationLevel:t[5]}}),{c(){Mt(e.$$.fragment)},m(r,i){wt(e,r,i),n=!0},p(r,i){const o={};i&8&&(o.data=r[3]),i&32&&(o.aggregationLevel=r[5]),e.$set(o)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){et(e.$$.fragment,r),n=!1},d(r){vt(e,r)}}}function jh(t){let e;return{c(){e=B("div"),e.textContent="Loading..."},m(n,r){W(n,e,r)},p:J,i:J,o:J,d(n){n&&I(e)}}}function t0(t){let e,n;return e=new Ns({props:{data:t[4]}}),{c(){Mt(e.$$.fragment)},m(r,i){wt(e,r,i),n=!0},p(r,i){const o={};i&16&&(o.data=r[4]),e.$set(o)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){et(e.$$.fragment,r),n=!1},d(r){vt(e,r)}}}function to(t){let e,n;return e=new Gh({props:{fullDateRange:t[6],startDate:t[1],endDate:t[2]}}),e.$on("dateRangeChange",t[9]),{c(){Mt(e.$$.fragment)},m(r,i){wt(e,r,i),n=!0},p(r,i){const o={};i&64&&(o.fullDateRange=r[6]),i&2&&(o.startDate=r[1]),i&4&&(o.endDate=r[2]),e.$set(o)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){et(e.$$.fragment,r),n=!1},d(r){vt(e,r)}}}function e0(t){let e,n,r,i;const o=[Kh,Zh],a=[];function l(u,s){return u[4].length>0?0:1}return n=l(t),r=a[n]=o[n](t),{c(){e=B("main"),r.c(),v(e,"class","svelte-1bh98j8")},m(u,s){W(u,e,s),a[n].m(e,null),i=!0},p(u,[s]){let c=n;n=l(u),n===c?a[n].p(u,s):(me(),et(a[c],1,1,()=>{a[c]=null}),pe(),r=a[n],r?r.p(u,s):(r=a[n]=o[n](u),r.c()),j(r,1),r.m(e,null))},i(u){i||(j(r),i=!0)},o(u){et(r),i=!1},d(u){u&&I(e),a[n].d()}}}function n0(t,e,n){let r=[],i=[],o=["japan","tokyo","hokkaido","tohuku","chubu","hokuriku","kansai","chugoku","shikoku","kyushu"],a="japan",l="2024-04-01",u="2024-04-15",s="hourly",c=[],f=[];async function h(){try{const x=new URLSearchParams({start_date:l,end_date:u,region:a,aggregation:s}),_=await(await fetch(`http://localhost:3000/api/data?${x}`)).json();if(n(3,r=JSON.parse(_.type.daily)),n(4,i=JSON.parse(_.categorized.monthly)),console.log(r,i),o.length>0&&!a&&n(0,a=o[0]),c.length===0){const M=new Date("2022-01-01"),w=new Date("2024-12-31"),y=[];let b=new Date(M);for(;b<=w;)y.push(new Date(b)),b.setMonth(b.getMonth()+1);n(6,c=y)}r.length>0&&(f=r.map(M=>new Date(M.date)),f.sort((M,w)=>M-w))}catch(x){console.error("Error fetching data:",x)}finally{}}Mn(h);function d(x){n(0,a=x.target.value)}function g(x){const{startDate:p,endDate:_,aggregationLevel:M}=x.detail;n(1,l=p),n(2,u=_),n(5,s=M),console.log(`Date range changed: ${l} to ${u} with aggregation: ${s}`)}return t.$$.update=()=>{t.$$.dirty&7&&(a||l||u)&&h()},[a,l,u,r,i,s,c,o,d,g]}class r0 extends qt{constructor(e){super(),Xt(this,e,n0,e0,Vt,{})}}new r0({target:document.getElementById("app")});
